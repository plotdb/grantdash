//- view
extends /base.pug
block vars
  - ctrl.navtop.shown = !simple;
block head
  style(type="text/css"): :stylus
    .pre
      white-space: pre-line
    .quote
      border-left: 3px solid #eee
      padding-left: .5em

mixin item(key,val)
  .m-4
    .font-weight-bold.mb-1= key
    .quote
      if Array.isArray(val)
        ul
        each v in val
          li.pre= v
      else
        p.pre= val

block body
  - var info = ["計畫名稱","計畫摘要"]
  each key in info
    - var val = locals.prj.detail.custom.raw[key]
    +item(key,val)

  each val, key in locals.prj.detail.custom.raw || {}
   if !~info.indexOf(key) 
     +item(key,val)

block script
  +register-locals()
