// Generated by LiveScript 1.3.0
(function(){
  var lc, view;
  lc = {
    active: {},
    pends: {}
  };
  return view = new ldView({
    root: document.body,
    action: {
      click: {
        "nav": function(arg$){
          var node, evt, n, g;
          node = arg$.node, evt = arg$.evt;
          if (!evt.target.getAttribute('ld')) {
            return;
          }
          n = evt.target.getAttribute('data-name');
          g = node.getAttribute('data-nav');
          lc.active[g] = {
            name: n,
            node: evt.target
          };
          view.render();
          return setTimeout(function(){
            var o, ref$;
            if ((o = ((ref$ = lc.pends)[g] || (ref$[g] = {}))[n]) && !o.inited) {
              o.func();
              return o.inited = true;
            }
          }, 10);
        }
      }
    },
    handler: {
      "nav-tab": function(arg$){
        var node, g, p, n, active;
        node = arg$.node;
        g = node.getAttribute('data-nav');
        if (!g) {
          if (!(p = ld$.parent(node, '[ld=nav]', document))) {
            return;
          }
          if (!(g = p.getAttribute('data-nav'))) {
            return;
          }
        }
        n = node.getAttribute('data-name');
        active = lc.active[g] || {};
        return node.classList.toggle('active', active.node === node || (!lc.active[g] && /default/.exec(node.getAttribute('ld'))));
      },
      "nav-panel": function(arg$){
        var node, g;
        node = arg$.node;
        g = node.getAttribute('data-nav');
        console.log(lc.active[g], node.getAttribute('ld'));
        return node.classList.toggle('d-none', (lc.active[g] && lc.active[g].name !== node.getAttribute('data-name')) || (!lc.active[g] && !/default/.exec(node.getAttribute('ld'))));
      }
    }
  });
})();