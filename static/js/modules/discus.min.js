function in$(n,e){for(var r=-1,t=e.length>>>0;++r<t;)if(n===e[r])return!0;return!1}ldc.register("discus",["auth"],function(n){var e,r,t;return e=n.auth,r=new marked.Renderer,r.heading=function(n,e){return n},t={renderer:r},e.get().then(function(n){var e,r;return function(){},function(){},e={},r=new ldView({root:"[ld-scope=discus-edit]",action:{input:{"use-markdown":function(n){var t;return t=n.node,e.useMarkdown=t.checked,r.render()},"toggle-preview":function(n){var t;return t=n.node,e.preview=!!t.checked,r.render()},comment:function(n){var r;return r=n.node,e.content=r.value}},click:{link:function(){},attach:function(){},post:function(){}}},handler:{avatar:function(e){var r;return r=e.node,r.style.backgroundImage="url(/s/avatar/"+n.user.key+".png)"},preview:function(n){var r,t;return r=n.node,t=in$("off",r.getAttribute("ld").split(" ")),r.classList.toggle("d-none",t?!!e.preview:!e.preview)},panel:function(n){var r;if(r=n.node,e.preview)return r.innerHTML=marked(e.content||"",t)},"edit-panel":function(n){return n.node.classList.toggle("d-none",!!e.preview)},"if-markdown":function(n){return n.node.classList.toggle("d-none",!e.useMarkdown)}}})})}),ldc.app("discus");