function import$(e,r){var n={}.hasOwnProperty;for(var t in r)n.call(r,t)&&(e[t]=r[t]);return e}ldc.register("adminNavbar",["sdbAdapter"],function(e){var r,n;return r=e.sdbAdapter,n=function(e){var r,n,t,o,i=this;return this.opt=e,this.view={},this.node={},this.root=r="string"==typeof e.root?document.querySelector(e.root):e.root,this.obj=n={tree:{children:[]}},this.node={view:ld$.find(this.root,"[ld=folder-root]",0),sample:ld$.find(this.root,"[ld-scope=folder-sample]",0)},this.view.sample=new ldView({root:this.node.sample,handler:{item:function(){},folder:function(){}}}),t=function(){return i.opsOut(function(){return console.log("ops-out: ",n.tree),n.tree})},o=function(e){var r,d,a,l;return r=e.node,d=e.data,e.parent,a=r,l=d,new ldView({root:r,initRender:!1,action:{input:{name:function(e){var r;return r=e.node,e.evt,d.name=r.value,t()},url:function(e){var r;return r=e.node,e.evt,d.url=r.value,t()}},click:{clone:function(e){var r;return e.node,e.evt,r=a.pdata.children.indexOf(d),a.pdata.children.splice(r+1,0,JSON.parse(JSON.stringify(d))),i.view.root.render(),console.log(JSON.stringify(n.tree))},delete:function(e){var r;return e.node,e.evt,r=a.pdata.children.indexOf(d),a.pdata.children.splice(r,1),i.view.root.render()},"toggle-fold":function(e){var r,n,t;return e.node,e.evt,d.children?(r=a.pdata.children.indexOf(d),n=d.children,delete d.children,delete d.toggle,n=[JSON.parse(JSON.stringify(d))].concat(n),a.pdata.children.splice.apply(a.pdata.children,[r,1].concat(n)),i.view.root.render()):(r=a.pdata.children.indexOf(d),t=JSON.parse(JSON.stringify(d)),t.toggle=!0,t.children=[],a.pdata.children.splice.apply(a.pdata.children,[r,1].concat([t])),i.view.root.render())}}},handler:{name:function(e){var r;return r=e.node,r.value=d.name||""},url:function(e){var r;return r=e.node,r.value=d.url||""},list:{list:function(){return d.children},init:function(e){var r,n,t;return r=e.node,n=e.data,t=i.view.sample.get(n.children?"folder":"item").childNodes[0],r.setAttribute("class",t.getAttribute("class")),r.setAttribute("draggable",!0),r.innerHTML=t.innerHTML,n.children&&(r.childNodes[0].innerHTML=i.view.sample.get("item").childNodes[0].innerHTML,r.childNodes[0].classList.add("folder-toggle"),r.folder=new ldui.Folder({root:r})),r.pdata=l,r.view=o({node:r,data:n})},handler:function(e){var r;if(r=e.node,e.data,r.view)return r.view.render()}}}})},this.view.root=o({node:this.node.view,data:n.tree}),new reblock({root:r,action:{beforeMove:function(e,r){var n;if(r.classList.contains("folder"))return null;for(;r;){if(!r.parentNode.classList)return null;if(r.classList.contains("folder-toggle")){if(e===r.parentNode)return null;if(n=ld$.find(r.parentNode,".folder-menu",0)){n.insertBefore(r=document.createElement("div"),n.childNodes[0]),r.dummy=!0;break}}if(r.parentNode.classList.contains("folder-menu")||r.parentNode.classList.contains("folder-root"))break;if(r.parentNode===e.parentNode)break;r=r.parentNode}return!r||e===r||ld$.parent(r,null,e)?(r.dummy&&r.parentNode.removeChild(r),null):r},moving:function(e,r,n){var t;return 0===n&&r.dummy&&(t=r,r=r.parentNode.parentNode,t.parentNode.removeChild(t)),r},afterMove:function(e,r,n){if(r.dummy)return r.parentNode.removeChild(r)},beforeMoveNode:function(e){var r,t,o;for(r=e.src,e.des,e.ib,t=r.parentNode;t&&!t._data;)t=t.parentNode;return(o=t?t._data:n.tree).children.splice(o.children.indexOf(r._data),1),(t?t.view:i.view.root).unbindEachNode({name:"list",container:r.parentNode,node:r})},afterMoveNode:function(e){var r,t,o,d;for(r=e.src,e.des,e.ib,t=r.parentNode;t&&!t._data;)t=t.parentNode;return o=t?t._data:n.tree,d=Array.from(r.parentNode.childNodes).indexOf(r),o.children.splice(Array.from(r.parentNode.childNodes).indexOf(r),0,r._data),(t?t.view:i.view.root).bindEachNode({name:"list",container:r.parentNode,idx:d,node:r}),r.pdata=o,t?t.view.render():i.view.root.render()}}}),this},n.prototype=import$(import$(Object.create(Object.prototype),r.interface),{opsIn:function(e){var r;return r=e.data,console.log("ops-in: ",r),r.children?import$(this.obj.tree,r):this.obj.tree={children:[{name:"活動辦法",url:"/about"},{name:"關於我們"},{name:"歷屆活動",toggle:!0,children:[{name:"2018春季"},{name:"2018秋季"}]},{name:"成果報告"}]},this.view.root.render()}}),n});