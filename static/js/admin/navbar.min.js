function import$(e,r){var n={}.hasOwnProperty;for(var t in r)n.call(r,t)&&(e[t]=r[t]);return e}ldc.register("adminNavbar",["sdbAdapter"],function(e){var r,n;return r=e.sdbAdapter,n=function(e){var r,n,t,o,i,d,a=this;return this.opt=e,this.view={},this.node={},this.root=r="string"==typeof e.root?document.querySelector(e.root):e.root,this.obj=n={tree:{children:[]}},this.node={view:ld$.find(this.root,"[ld=folder-root]",0),sample:ld$.find(this.root,"[ld-scope=folder-sample]",0)},this.view.sample=new ldView({root:this.node.sample,handler:{item:function(){},folder:function(){}}}),t=debounce(100,function(){return d.isDragging()?t():o()}),o=function(){return a.opsOut(function(){return console.log("ops-out: ",n.tree),n.tree})},i=function(e){var r,t,d,l,c;return r=e.node,t=e.data,e.parent,d=r,l=t,(c=new ldView({root:r,initRender:!1,action:{input:{name:function(e){var r;return r=e.node,e.evt,t.name=r.value,o()},url:function(e){var r;return r=e.node,e.evt,t.url=r.value,o()}},click:{clone:function(e){var r;return e.node,e.evt,r=d.pdata.children.indexOf(t),d.pdata.children.splice(r+1,0,JSON.parse(JSON.stringify(t))),a.view.root.render(),console.log(JSON.stringify(n.tree))},delete:function(e){var r;return e.node,e.evt,r=d.pdata.children.indexOf(t),d.pdata.children.splice(r,1),o(),a.view.root.render()},"toggle-fold":function(e){var r,n,o;return e.node,e.evt,t.children?(r=d.pdata.children.indexOf(t),n=t.children,delete t.children,delete t.toggle,n=[JSON.parse(JSON.stringify(t))].concat(n),d.pdata.children.splice.apply(d.pdata.children,[r,1].concat(n)),a.view.root.render()):(r=d.pdata.children.indexOf(t),o=JSON.parse(JSON.stringify(t)),o.toggle=!0,o.children=[],d.pdata.children.splice.apply(d.pdata.children,[r,1].concat([o])),a.view.root.render())}}},handler:{name:function(e){var r;return r=e.node,r.value=t.name||""},url:function(e){var r;return r=e.node,r.value=t.url||""},list:{list:function(){return t.children},init:function(e){var r,n,t;return r=e.node,n=e.data,t=a.view.sample.get(n.children?"folder":"item").childNodes[0],r.setAttribute("class",t.getAttribute("class")),r.setAttribute("draggable",!0),r.innerHTML=t.innerHTML,n.children&&(r.childNodes[0].innerHTML=a.view.sample.get("item").childNodes[0].innerHTML,r.childNodes[0].classList.add("folder-toggle"),r.folder=new ldui.Folder({root:r})),r.pdata=l,r.view=i({node:r,data:n})},handler:function(e){var r,n;if(r=e.node,n=e.data,r.pdata=l,r.view.data=n,r.view)return r.view.render()}}}})).on("beforeRender",function(){return l=t=c.data||n.tree}),c},this.view.root=i({node:this.node.view,data:n.tree}),d=new reblock({root:r,action:{beforeMove:function(e,r){var n;if(r.classList.contains("folder"))return null;for(;r;){if(!r.parentNode.classList)return null;if(r.classList.contains("folder-toggle")){if(e===r.parentNode)return null;if(n=ld$.find(r.parentNode,".folder-menu",0)){n.insertBefore(r=document.createElement("div"),n.childNodes[0]),r.dummy=!0;break}}if(r.parentNode.classList.contains("folder-menu")||r.parentNode.classList.contains("folder-root"))break;if(r.parentNode===e.parentNode)break;r=r.parentNode}return!r||e===r||ld$.parent(r,null,e)?(r.dummy&&r.parentNode.removeChild(r),null):r},moving:function(e,r,n){var t;return 0===n&&r.dummy&&(t=r,r=r.parentNode.parentNode,t.parentNode.removeChild(t)),r},afterMove:function(e,r,n){if(r.dummy)return r.parentNode.removeChild(r)},beforeMoveNode:function(e){var r,t,o;for(r=e.src,e.des,e.ib,t=r.parentNode;t&&!t._data;)t=t.parentNode;return(o=t?t._data:n.tree).children.splice(o.children.indexOf(r._data),1),(t?t.view:a.view.root).unbindEachNode({name:"list",container:r.parentNode,node:r})},afterMoveNode:function(e){var r,o,i,d;for(r=e.src,e.des,e.ib,o=r.parentNode;o&&!o._data;)o=o.parentNode;return i=o?o._data:n.tree,d=Array.from(r.parentNode.childNodes).indexOf(r),i.children.splice(Array.from(r.parentNode.childNodes).indexOf(r),0,r._data),t(),(o?o.view:a.view.root).bindEachNode({name:"list",container:r.parentNode,idx:d,node:r}),r.pdata=i,o?o.view.render():a.view.root.render()}}}),this},n.prototype=import$(import$(Object.create(Object.prototype),r.interface),{opsIn:function(e){var r;if(r=e.data,e.ops,!e.source)return r.children?this.obj.tree=JSON.parse(JSON.stringify(r)):this.obj.tree={children:[{name:"活動辦法",url:"/about"},{name:"關於我們"},{name:"歷屆活動",toggle:!0,children:[{name:"2018春季"},{name:"2018秋季"}]},{name:"成果報告"}]},this.view.root.render()}}),n});