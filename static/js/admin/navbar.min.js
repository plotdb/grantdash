function import$(e,r){var n={}.hasOwnProperty;for(var t in r)n.call(r,t)&&(e[t]=r[t]);return e}ldc.register("adminNavbar",["sdbAdapter"],function(e){var r,n;return r=e.sdbAdapter,n=function(e){var r,n,t,d,o,a;return this.opt=e,this.root=r="string"==typeof e.root?document.querySelector(e.root):e.root,n={tree:{children:[{name:"活動辦法",url:"/about"},{name:"關於我們"},{name:"歷屆活動",toggle:!0,children:[{name:"2018春季"},{name:"2018秋季"}]},{name:"成果報告"}]}},t=ld$.find(r,"[ld=folder-root]",0),console.log(r),d=new ldView({root:ld$.find(this.root,"[ld-scope=folder-sample]",0),handler:{item:function(){},folder:function(){}}}),o=function(e){var r,t,i,l;return r=e.node,t=e.data,e.parent,i=r,l=t,new ldView({root:r,action:{input:{name:function(e){var r;return r=e.node,e.evt,t.name=r.value},url:function(e){var r;return r=e.node,e.evt,t.url=r.value}},click:{clone:function(e){var r;return e.node,e.evt,r=i.pdata.children.indexOf(t),i.pdata.children.splice(r+1,0,JSON.parse(JSON.stringify(t))),a.render(),console.log(JSON.stringify(n.tree))},delete:function(e){var r;return e.node,e.evt,r=i.pdata.children.indexOf(t),i.pdata.children.splice(r,1),a.render()},"toggle-fold":function(e){var r,n,d;return e.node,e.evt,t.children?(r=i.pdata.children.indexOf(t),n=t.children,delete t.children,delete t.toggle,n=[JSON.parse(JSON.stringify(t))].concat(n),i.pdata.children.splice.apply(i.pdata.children,[r,1].concat(n)),a.render()):(r=i.pdata.children.indexOf(t),d=JSON.parse(JSON.stringify(t)),d.toggle=!0,d.children=[],i.pdata.children.splice.apply(i.pdata.children,[r,1].concat([d])),a.render())}}},handler:{name:function(e){var r;return r=e.node,r.value=t.name||""},url:function(e){var r;return r=e.node,r.value=t.url||""},list:{list:function(){return t.children},init:function(e){var r,n,t;return r=e.node,n=e.data,t=d.get(n.children?"folder":"item").childNodes[0],r.setAttribute("class",t.getAttribute("class")),r.setAttribute("draggable",!0),r.innerHTML=t.innerHTML,n.children&&(r.childNodes[0].innerHTML=d.get("item").childNodes[0].innerHTML,r.childNodes[0].classList.add("folder-toggle"),r.folder=new ldui.Folder({root:r})),r.pdata=l,r.view=o({node:r,data:n})},handler:function(e){var r;if(r=e.node,e.data,r.view)return r.view.render()}}}})},a=o({node:t,data:n.tree}),new reblock({root:r,action:{beforeMove:function(e,r){var n;if(r.classList.contains("folder"))return null;for(;r;){if(!r.parentNode.classList)return null;if(r.classList.contains("folder-toggle")){if(e===r.parentNode)return null;if(n=ld$.find(r.parentNode,".folder-menu",0)){n.insertBefore(r=document.createElement("div"),n.childNodes[0]),r.dummy=!0;break}}if(r.parentNode.classList.contains("folder-menu")||r.parentNode.classList.contains("folder-root"))break;if(r.parentNode===e.parentNode)break;r=r.parentNode}return!r||e===r||ld$.parent(r,null,e)?(r.dummy&&r.parentNode.removeChild(r),null):r},moving:function(e,r,n){var t;return 0===n&&r.dummy&&(t=r,r=r.parentNode.parentNode,t.parentNode.removeChild(t)),r},afterMove:function(e,r,n){if(r.dummy)return r.parentNode.removeChild(r)},beforeMoveNode:function(e){var r,t,d;for(r=e.src,e.des,e.ib,t=r.parentNode;t&&!t._data;)t=t.parentNode;return(d=t?t._data:n.tree).children.splice(d.children.indexOf(r._data),1),(t?t.view:a).unbindEachNode({name:"list",container:r.parentNode,node:r})},afterMoveNode:function(e){var r,t,d,o;for(r=e.src,e.des,e.ib,t=r.parentNode;t&&!t._data;)t=t.parentNode;return d=t?t._data:n.tree,o=Array.from(r.parentNode.childNodes).indexOf(r),d.children.splice(Array.from(r.parentNode.childNodes).indexOf(r),0,r._data),(t?t.view:a).bindEachNode({name:"list",container:r.parentNode,idx:o,node:r}),r.pdata=d,t?t.view.render():a.render()}}}),this},n.prototype=import$(import$(Object.create(Object.prototype),r.interface),{opsIn:function(e){e.data}}),n});