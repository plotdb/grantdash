function import$(r,t){var e={}.hasOwnProperty;for(var n in t)e.call(t,n)&&(r[n]=t[n]);return r}ldc.register("adminJudgeInfo",["ldcvmgr","auth","sdbAdapter","error","adminPanel"],function(r){var t,e,n;return r.ldcvmgr,r.auth,r.sdbAdapter,t=r.error,e=r.adminPanel,n=function(r){var n=this;return null==r&&(r={}),this.opt=r,this.root="string"==typeof r.root?document.querySelector(r.root):r.root,this.brd=r.brd,this.grp=null,this.view={},this.prepare={},this.data={},e.on("active",function(r){var t,e;if(t=r.nav,e=r.name,r.panel,"grp-judge"===t)return"criteria"===e?n.view.criteria.render():"primary"===e?n.prepare.primary().then(function(){return n.view.primary.render()}):void 0}),this.view.criteria=new ldView({root:this.root,handler:{"criteria-user-link":function(r){var t;if(t=r.node,n.grp)return t.setAttribute("href","/dash/brd/"+n.brd.slug+"/grp/"+n.grp.key+"/judge/criteria/user")},"criteria-all-link":function(r){var t;if(t=r.node,n.grp)return t.setAttribute("href","/dash/brd/"+n.brd.slug+"/grp/"+n.grp.key+"/judge/criteria/all")}}}),this.prepare.primary=function(){return ld$.fetch("/dash/api/brd/"+n.brd.slug+"/grp/"+n.grp.key+"/judge/primary/user",{method:"GET"},{type:"json"}).then(function(r){var t;return n.data.primary=t=r,n.data.primary.users=t.users.map(function(r){var e,n,i;return e={0:0,1:0,2:0,total:0},n=(i=t.data.user[r.key]||{}).prj||(i.prj={}),t.prjs.map(function(r){var t;if(null!=(t=(n[r.key]||{}).v))return e[t]++}),r.count=e,e.total=e[0]+e[1]+e[2]||1,r}),n}).catch(t())},this.view.primary=new ldView({root:this.root,handler:{"primary-user-link":function(r){var t;if(t=r.node,n.grp)return t.setAttribute("href","/dash/brd/"+n.brd.slug+"/grp/"+n.grp.key+"/judge/primary/user")},"primary-all-link":function(r){var t;if(t=r.node,n.grp)return t.setAttribute("href","/dash/brd/"+n.brd.slug+"/grp/"+n.grp.key+"/judge/primary/all")},"primary-judge":{list:function(){var r,t;return(r=(t=n.data).primary||(t.primary={})).users||(r.users=[])},init:function(r){var t,e,n;return t=r.node,e=r.local,n=r.data,t.classList.toggle("d-none",!1),e.view=new ldView({root:t,context:n,handler:{name:function(r){var t,e;return t=r.node,e=r.context,t.innerText=e.name},"progress-bar":function(r){var t,e,n;return t=r.node,e=r.context,n=+t.getAttribute("data-name"),t.style.width=100*e.count[n]/e.count.total+"%"}}})},handler:function(r){var t,e;return t=r.local,e=r.data,t.view.setContext=e,t.view.render()}}}}),this},n.prototype=import$(Object.create(Object.prototype),{prepare:function(){},setData:function(r){return this.grp=r}}),n});