// Generated by LiveScript 1.3.0
(function(){
  ldc.register('brd', [], function(){
    var view;
    return view = new ldView({
      root: '#brd-info',
      action: {
        click: {
          'brd-head': function(arg$){
            var node, evt, p, ison, hbox, pbox;
            node = arg$.node, evt = arg$.evt;
            if (!(p = ld$.parent(evt.target, '.clickable', document))) {
              return;
            }
            ison = node.classList.contains('on');
            hbox = node.getBoundingClientRect();
            pbox = node.parentNode.parentNode.getBoundingClientRect();
            view.get('brd-list').style.height = (ison
              ? 0
              : pbox.height - hbox.height) + "px";
            return node.classList.toggle('on');
          }
        }
      },
      handler: {
        boards: {
          list: function(){
            return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(function(it){
              return {
                key: it,
                name: "測試" + it,
                description: "隨意的描述",
                starttime: '2020-05-10',
                endtime: '2020-08-10'
              };
            });
          },
          action: {
            click: function(arg$){
              var node, key;
              node = arg$.node;
              key = node.getAttribute('data-key');
              return window.location.href = "/b/" + key + "/admin";
            }
          },
          handler: function(arg$){
            var node, data;
            node = arg$.node, data = arg$.data;
            ld$.find(node, 'span', 0).innerText = data.name;
            ld$.find(node, '.text-muted', 0).innerText = data.starttime + " - " + data.endtime;
            return node.setAttribute('data-key', data.key);
          }
        }
      }
    });
  });
  return ldc.app('brd');
})();