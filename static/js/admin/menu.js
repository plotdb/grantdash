// Generated by LiveScript 1.3.0
(function(){
  ldc.register('brd', [], function(){
    var view;
    return view = new ldView({
      root: '#brd-info',
      action: {
        click: {
          'brd-head': function(arg$){
            var node, evt, p, ison, hbox, pbox;
            node = arg$.node, evt = arg$.evt;
            if (!(p = ld$.parent(evt.target, '.clickable', document))) {
              return;
            }
            ison = node.classList.contains('on');
            hbox = node.getBoundingClientRect();
            pbox = node.parentNode.parentNode.getBoundingClientRect();
            view.get('brd-list').style.height = (ison
              ? 0
              : pbox.height - hbox.height) + "px";
            return node.classList.toggle('on');
          }
        }
      }
    });
  });
  ldc.app('brd');
  ldc.register('test', [], function(){
    var toggleFolder;
    toggleFolder = function(node){
      var root, ison, menu, dbox;
      root = node.parentNode;
      ison = root.classList.contains('show');
      if (!ison) {
        root.classList.toggle('show');
      }
      menu = node.parentNode.childNodes[1];
      dbox = menu.getBoundingClientRect();
      menu.style.height = (ison ? dbox.height : 0) + "px";
      setTimeout(function(){
        return menu.style.height = (ison
          ? 0
          : dbox.height) + "px";
      }, 0);
      if (ison) {
        setTimeout(function(){
          root.classList.toggle('show');
          return menu.style.height = "";
        }, 250);
      }
      if (!ison) {
        return setTimeout(function(){
          return menu.style.height = "";
        }, 250);
      }
    };
    return ld$.find(document, '.folder-toggle').map(function(it){
      return it.addEventListener('click', function(){
        return toggleFolder(this);
      });
    });
  });
  return ldc.app('test');
})();