function import$(t,r){var e={}.hasOwnProperty;for(var n in r)e.call(r,n)&&(t[n]=r[n]);return t}ldc.register("adminJudgeFinal",["ldcvmgr","auth","sdbAdapter","error","adminPanel"],function(t){var r,e,n;return t.ldcvmgr,t.auth,t.sdbAdapter,r=t.error,e=t.adminPanel,n=function(t){var n=this;return null==t&&(t={}),this.opt=t,this.root="string"==typeof t.root?document.querySelector(t.root):t.root,this.brd=t.brd,this.grp=null,this.data={},e.on("active",function(t){var e,a,i;if(e=t.nav,a=t.name,i=t.panel,console.log(e,a,i),"grp-judge"===e&&"final"===a)return n.prepare().then(function(){return n.view.render()}).catch(r())}),this.view=new ldView({root:this.root,handler:{"final-user-link":function(t){var r;if(r=t.node,n.grp)return r.setAttribute("href","/dash/brd/"+n.brd.slug+"/grp/"+n.grp.key+"/judge/final/user")},"final-all-link":function(t){var r;if(r=t.node,n.grp)return r.setAttribute("href","/dash/brd/"+n.brd.slug+"/grp/"+n.grp.key+"/judge/final/all")},"final-judge":{list:function(){var t;return(t=n.data).users||(t.users=[])},init:function(t){var r,e,n;return r=t.node,e=t.local,n=t.data,r.classList.toggle("d-none",!1),e.view=new ldView({root:r,context:n,handler:{name:function(t){var r,e;return r=t.node,e=t.context,r.innerText=e.name},"progress-bar":function(t){var r,e,n;return r=t.node,e=t.context,n=+r.getAttribute("data-name"),r.style.width=100*e.count[n]/e.count.total+"%"}}})},handler:function(t){var r,e;return r=t.local,e=t.data,r.view.setContext(e),r.view.render()}}}}),this},n.prototype=import$(Object.create(Object.prototype),{prepare:function(){var t=this;return ld$.fetch("/dash/api/brd/"+this.brd.slug+"/grp/"+this.grp.key+"/judge/final/all",{method:"GET"},{type:"json"}).then(function(r){return t.data=r}).catch(r())},setData:function(t){return this.grp=t}}),n});