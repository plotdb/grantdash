function import$(r,e){var n={}.hasOwnProperty;for(var t in e)n.call(e,t)&&(r[t]=e[t]);return r}ldc.register("adminPrjDetail",["sdbAdapter","prjViewSimple","adminPanel","ldcvmgr"],function(r){var e,n,t,o;return e=r.sdbAdapter,r.prjViewSimple,n=r.adminPanel,t=r.ldcvmgr,o=function(r){var e,o,i=this;return this.opt=r,this.root=e="string"==typeof r.root?document.querySelector(r.root):r.root,this.prj={},o=function(){return t.getdom("prj-view").then(function(r){if(!i.viewPrjContent)return i.viewPrjContent=new ldView({initRender:!1,root:r,handler:{iframe:function(r){return r.node.setAttribute("src","/dash/prj/"+i.prj.slug+"?simple")},"iframe-placeholder":function(r){return r.node.classList.add("d-none")}}})}).then(function(){return i.viewPrjContent.render(),t.toggle("prj-view",!0)})},n.on("active",function(r){var e;if(r.nav,e=r.name,r.panel,"prj-view"===e)return o()}),this.view=new ldView({root:e,text:{name:function(){return i.prj.name||"(未命名的提案)"},ownername:function(){var r;return((r=i.prj).info||(r.info={})).teamname||i.prj.ownername||""},email:function(){return i.prj.owneremail||""}},handler:{id:function(r){var e;return e=r.node,e.value=i.prj.slug},username:function(r){var e;return e=r.node,e.href="/dash/user/"+i.prj.owner,e.innerText=i.prj.ownername||""},avatar:function(r){var e;return e=r.node,e.style.background="url(/s/avatar/"+i.prj.owner+".png)"}},action:{click:{"show-prj":function(){return o()}}}}),this},o.prototype=import$(import$(Object.create(Object.prototype),e.interface),{setPrj:function(r){return this.prj=r,this.view.render()},opsIn:function(r){r.data,r.ops,r.source}}),o});