// Generated by LiveScript 1.3.0
(function(){
  ldc.register('admin', ['viewLocals', 'orgBasic'], function(arg$){
    var viewLocals, orgBasic, lc, sdb, watch, update, ret, id;
    viewLocals = arg$.viewLocals, orgBasic = arg$.orgBasic;
    console.log(viewLocals);
    lc = {};
    sdb = new sharedbWrapper({
      url: {
        scheme: window.location.protocol.replace(':', ''),
        domain: window.location.host
      }
    });
    watch = function(){};
    update = function(){};
    ret = /o\/([0-9]+)/.exec(window.location.pathname);
    id = "org-" + (ret ? ret[1] : 'demo');
    return sdb.get({
      id: id,
      watch: watch
    }).then(function(doc){
      lc.doc = doc;
      console.log(doc);
      return orgBasic.install({
        doc: doc,
        sdb: sdb
      });
    });
  });
  return ldc.app('admin');
})();