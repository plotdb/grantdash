ldc.register("grpSidemenu",[],function(){var r;return r=function(r){var t,e,n;return t={data:{}},t.data=r.data||{group:function(){var r,t=[];for(r=1;r<4;++r)e=r,t.push({name:"分組"+e,key:e});return t}()},t.prjInfo=r.prjInfo,t.prjPermctrl=r.prjPermctrl,n=new ldView({root:".project-groups",action:{click:{"project-group-add":function(r){var e,o;return r.node,((e=JSON.parse(JSON.stringify(t.data))).group||(e.group=[])).push({key:(e.group||(e.group=[])).length+1,name:"新分組"}),o=sdb.json.diff(t.data,e),t.docbrd.submitOp(o),n.render()}}},handler:{"nav-tab":function(r){r.node},"project-group":{list:function(){return t.data.group||[]},init:function(r){var e;return e=r.node,new ldView({root:e,action:{click:{"nav-tab":function(r){var e,n,o,a;if(e=r.node,n=ld$.parent(e,".folder",this.root))return o=n.getAttribute("data-prj-key"),a=0,t.data.group.map(function(r,t){if(r.key===+o)return a=t}),t.prjInfo.set({path:["group",a]}),t.prjPermctrl.set({path:["group",a,"perm"]})}}}})},handler:function(r){var t,e,n;if(t=r.node,e=r.data,n=ld$.find(t,"[ld=name]",0),t.setAttribute("data-prj-key",e.key),n.innerText=e.name,!t.folder)return t.folder=new ldui.Folder({root:t})}}}})},{prepare:r}});