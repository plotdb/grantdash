function import$(t,e){var n,r={}.hasOwnProperty;for(n in e)r.call(e,n)&&(t[n]=e[n]);return t}ldc.register("adminBrdExport",["error","loader","notify","ldcvmgr","auth","sdbAdapter","adminPanel"],function(t){var n=t.error,e=(t.loader,t.notify,t.ldcvmgr,t.auth,t.sdbAdapter),a=t.adminPanel,t=function(t){var r=this;return this.toc=t.toc,this.prjs=[],this.data={},a.on("active",function(t){t.nav;var e=t.name;t.panel;if("brd-export"===e)return ld$.fetch("/dash/api/brd/"+r.toc.brd.slug+"/list",{method:"GET"},{type:"json"}).then(function(t){return r.prjs=t,r.prjs=r.prjs.filter(function(t){return((t=t.system||(t.system={})).badge||(t.badge={})).winner}),r.prjs.sort(function(t,e){return t.key-e.key}),r.prjs.map(function(t){return t.info=t.detail.info}),r.view.render()}).catch(n())}),this.update=function(){return r.opsOut(function(){return r.data})},this.view=new ldView({root:t.root,action:{input:{field:function(t){var e=t.node,t=e.getAttribute("data-name");return r.data[t]=e.value,r.update()}}},handler:{field:function(t){var e=t.node,t=e.getAttribute("data-name");return e.value=r.data[t]||""},prj:{list:function(){return r.prjs},handler:function(t){t.node;var e=t.local,t=t.data;return e.view.setContext(t),e.view.render()},init:function(t){var e=t.node,n=t.local,t=t.data;return n.view=new ldView({context:t,root:e,action:{input:{amount:function(t){var e=t.node,n=t.context;return((t=r.data)[n=n.key]||(t[n]={})).amount=e.value||0,r.update()},state:function(t){var e=t.node,n=t.context;return((t=r.data)[n=n.key]||(t[n]={})).state=e.value||"",r.update()}}},text:{name:function(t){return t.context.name}},handler:{amount:function(t){var e=t.node,t=t.context;return e.value=((e=r.data)[t=t.key]||(e[t]={})).amount||0},state:function(t){var e=t.node,t=t.context;return e.value=((e=r.data)[t=t.key]||(e[t]={})).state||""}}})}}}}),this};return t.prototype=import$(import$(Object.create(Object.prototype),e.interface),{setData:function(t){return this.data=t,this.view.render()},opsIn:function(t){var e=t.data;t.ops;if(!t.source)return this.data=JSON.parse(JSON.stringify(e)),this.view.render()}}),t});