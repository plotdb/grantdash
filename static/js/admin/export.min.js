function import$(t,e){var n,r={}.hasOwnProperty;for(n in e)r.call(e,n)&&(t[n]=e[n]);return t}ldc.register("adminBrdExport",["error","loader","notify","ldcvmgr","auth","sdbAdapter","adminPanel"],function(t){var n=t.error,e=(t.loader,t.notify,t.ldcvmgr,t.auth,t.sdbAdapter),r=t.adminPanel,t=function(t){var a=this;return this.toc=t.toc,this.prjs=[],this.data={},r.on("active",function(t){t.nav;var e=t.name;t.panel;if("brd-export"===e)return ld$.fetch("/dash/api/brd/"+a.toc.brd.slug+"/list",{method:"GET"},{type:"json"}).then(function(t){return a.prjs=t,a.prjs=a.prjs.filter(function(t){return((t=t.system||(t.system={})).badge||(t.badge={})).winner}),a.prjs.sort(function(t,e){return t.key-e.key}),a.prjs.map(function(t){return t.info=t.detail.info}),a.view.render()}).catch(n())}),this.update=function(){return a.opsOut(function(){return a.data})},this.view=new ldView({root:t.root,action:{click:{switch:function(t){var e=t.node,n=e.getAttribute("data-name");return e.classList.toggle("on"),((t=a.data).cfg||(t.cfg={}))[n]=!!e.classList.contains("on"),a.update()}},input:{field:function(t){var e=t.node,n=e.getAttribute("data-name");return((t=a.data).cfg||(t.cfg={}))[n]=e.value,a.update()}}},handler:{switch:function(t){var e=t.node,t=e.getAttribute("data-name");return e.classList.toggle("on",!!((e=a.data).cfg||(e.cfg={}))[t])},field:function(t){var e=t.node,t=e.getAttribute("data-name");return e.value=((e=a.data).cfg||(e.cfg={}))[t]||""},prj:{list:function(){return a.prjs},handler:function(t){t.node;var e=t.local,t=t.data;return e.view.setContext(t),e.view.render()},init:function(t){var e=t.node,r=t.local,t=t.data;return r.view=new ldView({context:t,root:e,action:{click:{"set-state":function(t){var e=t.node,n=t.context,t=(t.views,t.view,e.getAttribute("data-name"));return((e=(e=a.data).prj||(e.prj={}))[n=n.key]||(e[n]={})).state=r.view.get("state").value=t||"",a.update()}},input:{amount:function(t){var e=t.node,n=t.context;return((t=(t=a.data).prj||(t.prj={}))[n=n.key]||(t[n]={})).amount=e.value||0,a.update()},state:function(t){var e=t.node,n=t.context;return((t=(t=a.data).prj||(t.prj={}))[n=n.key]||(t[n]={})).state=e.value||"",a.update()}}},init:{dropdown:function(t){var e=t.node;t.context;return new Dropdown(e)}},text:{name:function(t){return t.context.name}},handler:{amount:function(t){var e=t.node,t=t.context;return e.value=((e=(e=a.data).prj||(e.prj={}))[t=t.key]||(e[t]={})).amount||0},state:function(t){var e=t.node,t=t.context;return e.value=((e=(e=a.data).prj||(e.prj={}))[t=t.key]||(e[t]={})).state||""}}})}}}}),this};return t.prototype=import$(import$(Object.create(Object.prototype),e.interface),{setData:function(t){return this.data=t,this.view.render()},opsIn:function(t){var e=t.data;t.ops;if(!t.source)return this.data=JSON.parse(JSON.stringify(e)),this.view.render()}}),t});