ldc.register("admin",["permctrl","entryctrl","navbar","grpSidemenu","adminNavigation","viewLocals","orgInfo","brdInfo","prjInfo","loader","util"],function(r){var a,n,e,o,t,d,p,i,c,l,s,f,u,m,b,g,h,v,w,j,I,$,y,P,x,L,N,Q,S,W;return a=r.permctrl,n=r.entryctrl,e=r.navbar,o=r.grpSidemenu,r.adminNavigation,r.viewLocals,t=r.orgInfo,d=r.brdInfo,p=r.prjInfo,i=r.loader,c=r.util,i.on(),l={},s=ld$.find("[ld~=nav-panel][data-nav=brd-config][data-name=perm]  [ld-scope=permission-panel]",0),f={root:s,path:["perm"]},u=a.prepare(f),s=ld$.find("[ld~=nav-panel][data-nav=org-config][data-name=perm]  [ld-scope=permission-panel]",0),m={root:s,path:["perm"]},b=a.prepare(m),s=ld$.find("[ld~=nav-panel][data-nav=prj-config][data-name=perm]  [ld-scope=permission-panel]",0),g={root:s,path:["group",0,"perm"]},h=a.prepare(g),v=ld$.find("[ld~=nav-panel][data-nav=prj-config][data-name=criteria] [ld-scope=criteria-panel]",0),w={root:v,path:["group",0,"criteria"]},n.prepare(w),j=ld$.find("[ld~=nav-panel][data-nav=prj-config][data-name=grade] [ld-scope=grade-panel]",0),I={root:j,path:["group",0,"grade"]},n.prepare(I),$=ld$.find("[ld~=nav-panel][data-nav=main][data-name=brd-navbar]  [ld-scope=navbar-editor]",0),y={root:$,path:["page","navbar"]},e.prepare(y),(P=new sharedbWrapper({url:{scheme:window.location.protocol.replace(":",""),domain:window.location.host}})).on("close",function(){return i.on(),P.reconnect().then(function(){return S()}).then(function(){return i.off()})}),x=function(r,a){return t.watch({ops:r,source:a}),b.watch({ops:r,source:a})},L=/o\/([0-9]+)/.exec(window.location.pathname),(N=!L&&c.parseQuerystring("o"))&&(L=["",N]),L&&(Q="org-"+(L?L[1]:"demo"),(S=function(){return i.on(),P.get({id:Q,watch:x}).then(function(r){return l.doc=r,t.init({doc:r,sdb:P}),b.init({doc:r,sdb:P}),i.off()})})()),o.prepare({prjInfo:p,prjPermctrl:h}),W=function(r,a){return d.watch({ops:r,source:a}),p.watch({ops:r,source:a}),h.watch({ops:r,source:a}),o.prepare({prjInfo:p,prjPermctrl:h,data:l.docbrd.data})},L=/b\/([0-9]+)/.exec(window.location.pathname),(N=!L&&c.parseQuerystring("b"))&&(L=["",N]),L&&(Q="board-"+(L?L[1]:"demo"),function(){return i.on(),P.get({id:Q,watch:W}).then(function(r){return l.docbrd=r,d.init({doc:l.docbrd,sdb:P}),p.init({doc:l.docbrd,sdb:P}),h.init({doc:l.docbrd,sdb:P}),u.init({doc:l.docbrd,sdb:P}),o.prepare({prjInfo:p,prjPermctrl:h,data:r.data}),i.off()})}()),i.off()}),ldc.app("admin");