// Generated by LiveScript 1.3.0
var b;
b = new reblock({
  root: '#root',
  action: {
    beforeMove: function(src, des){
      var n;
      if (des.classList.contains('folder')) {
        return null;
      }
      while (des) {
        if (!des.parentNode.classList) {
          return null;
        }
        if (des.classList.contains('folder-toggle')) {
          if (src === des.parentNode) {
            return null;
          }
          if (n = ld$.find(des.parentNode, '.folder-menu', 0)) {
            n.insertBefore(des = document.createElement('div'), n.childNodes[0]);
            des.dummy = true;
            break;
          }
        }
        if (des.parentNode.classList.contains('folder-menu') || des.parentNode.classList.contains('folder-root')) {
          break;
        }
        if (des.parentNode === src.parentNode) {
          break;
        } else {
          des = des.parentNode;
        }
      }
      if (!des || src === des || ld$.parent(des, null, src)) {
        if (des.dummy) {
          des.parentNode.removeChild(des);
        }
        return null;
      }
      return des;
    },
    moving: function(src, des, dir){
      var d;
      if (dir === 0 && des.dummy) {
        d = des;
        des = des.parentNode.parentNode;
        d.parentNode.removeChild(d);
      }
      return des;
    },
    afterMove: function(src, des, dir){
      if (des.dummy) {
        return des.parentNode.removeChild(des);
      }
    }
  }
});
b.init();