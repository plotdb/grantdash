ldc.register(["general","auth","loader","navtop"],function(n){var t,e,r,i,o,u;return n.general,t=n.auth,e=n.loader,n.navtop,r=(window.location.search||"").replace(/^\?/,"").split("&").map(function(n){return decodeURIComponent(n).trim().split("=")}),i=r.filter(function(n){return"nexturl"===n[0]}).map(function(n){return n[1]})[0]||"/",o=r.filter(function(n){return"auth-method"===n[0]}).map(function(n){return n[1]})[0]||"/",u=function(){return e.on(),window.location.href=i},t.init({root:".authpanel"}),o&&("signup"===o?t.switch("signup"):t.switch("login")),t.fetch({renew:!0}).then(function(n){if(n.user.key)return u()}),t.on("auth.signin",function(){return u()})});