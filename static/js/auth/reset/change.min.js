ldc.register(["auth","ldcvmgr"],function(e){var r,t;if(r=e.auth,e.ldcvmgr,document.querySelector("#password-reset"))return t=new ldForm({names:function(){return["password","confirm"]},root:"#password-reset",submit:"input[type=submit]",afterCheck:function(e,r){var t,s,o;if(t=[this.fields.password.value,this.fields.confirm.value],s=t[0],o=t[1],1!==e.password&&s.length<8&&(e.password=2,e.confirm=1),s!==o&&(1!==e.confirm||o&&0===e.password))return e.confirm=2}}),r.get().then(function(e){return t.fields._csrf.value=e.csrfToken,r.recaptcha.get()}).then(function(e){var r;if(t.fields.recaptcha.value=e,!(r=(/^\?token=(.+)$/.exec(window.location.search)||[])[1])){if(r=(document.cookie||"").split(";").filter(function(e){return/password-reset-token/.exec(e)})[0],!(r=(r||"").split("=")[1]))return lda.ldcvmgr.toggle("reset-password-invalid");document.cookie="password-reset-token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}return t.root.setAttribute("action","/dash/api/me/passwd/reset/"+r)})});