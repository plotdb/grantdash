// Generated by LiveScript 1.3.0
ldc.register("judge-preview", ['ldcvmgr'], function(arg$){
  var ldcvmgr, node, prepare;
  ldcvmgr = arg$.ldcvmgr;
  node = {};
  prepare = function(){
    return ldcvmgr.getdom('judge-preview-attachment').then(function(){
      return ['iframe', 'obj', 'embed'].map(function(it){
        return node[it] = ld$.find(it, "[ld=" + it + "]", 0);
      });
    });
  };
  return ldc.action({
    toggle: function(arg$){
      var url, type;
      url = arg$.url, type = arg$.type;
      node.iframe.setAttribute('src', url);
      node.obj.setAttribute('data', url);
      node.embed.setAttribute('src', url);
      if (type) {
        node.obj.setAttribute('type', type);
        node.embed.setAttribute('type', type);
      }
      return ldcvmgr.toggle('judge-preview-attachment');
    }
  });
});