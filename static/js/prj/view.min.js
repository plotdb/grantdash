ldc.register("prjView",["auth","error","viewLocals"],function(e){var n,t,r;return n=e.auth,t=e.error,r=e.viewLocals,n.get().then(function(e){var n,t,i,o,a,c;return n=r.prj,t=r.grp,i=(o=n.detail||(n.detail={})).answer||(o.answer={}),a=(o=t.form||(t.form={})).list||(o.list=[]),c={},a.map(function(e){return c[e.key]=e}),new ldView({root:document.body,init:{"btn-share":function(e){var n,t;return n=e.node,t=e.local,t.clipboard=new ClipboardJS(n,{text:function(e){return window.location.href}}),t.clipboard.on("success",function(){return clearTimeout(t.h),n.classList.add("tip-on"),t.h=setTimeout(function(){return n.classList.remove("tip-on")},1e3)})}},handler:{"btn-edit":function(n){return n.node.classList.toggle("d-none",e.user.key!==r.owner)},answer:function(e){var n,t,r,o;if(n=e.node,t=n.getAttribute("data-key"),c[t],(r=i[t]||{})&&c[t])return r.content?r.useMarkdown?n.innerHTML=DOMPurify.sanitize(marked(r.content)):n.innerText=r.content:r.list?(o=r.list.concat(r.otherValue&&r.other?[r.otherValue]:[]),n.innerHTML=DOMPurify.sanitize(o.join("<br>"))):void 0}}})}).catch(t())}),ldc.app("prjView");