// Generated by LiveScript 1.3.0
ldc.register('prjView', ['auth', 'error', 'viewLocals'], function(arg$){
  var auth, error, viewLocals;
  auth = arg$.auth, error = arg$.error, viewLocals = arg$.viewLocals;
  return auth.get().then(function(g){
    var view;
    return view = new ldView({
      root: document.body,
      init: {
        "btn-share": function(arg$){
          var node, local;
          node = arg$.node, local = arg$.local;
          local.clipboard = new ClipboardJS(node, {
            text: function(t){
              return window.location.href;
            }
          });
          return local.clipboard.on('success', function(){
            clearTimeout(local.h);
            node.classList.add('tip-on');
            return local.h = setTimeout(function(){
              return node.classList.remove('tip-on');
            }, 1000);
          });
        }
      },
      handler: {
        "btn-edit": function(arg$){
          var node;
          node = arg$.node;
          return node.classList.toggle('d-none', g.user.key !== viewLocals.owner);
        }
      }
    });
  })['catch'](error());
});
ldc.app('prjView');