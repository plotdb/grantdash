ldc.register(["prjForm","loader","ldcvmgr"],function(o){var r,n,e,t,c,a;return r=o.prjForm,n=o.loader,e=o.ldcvmgr,n.on(),console.log("initializing ..."),(t=t=new sharedbWrapper({url:{scheme:window.location.protocol.replace(":",""),domain:window.location.host}})).on("close",function(){return n.on(),t.reconnect().then(function(){return prepare()}).then(function(){return n.off()})}),c={brd:new Hub({sdb:t}),prj:new Hub({sdb:t})},console.log("fetch brd-4 snapshot ..."),a={},t.getSnapshot({id:"brd-4"}).then(function(o){return a.snapshot=o.data,console.log(o),t.get({id:"prj-sample",watch:function(o,r){return c.prj.fire("change",{ops:o,source:r})}})}).then(function(o){var e,t,p;return c.prj.doc=o,e=function(){var o,r=[];for(t in o=a.snapshot.group)p=o[t],r.push(p);return r}()[0]||{},new r({root:"[ld-scope=prj-form]",viewMode:!0,form:(e.form||(e.form={})).list||[],grp:e,brd:a.snapshot}).adapt({hub:c.prj,path:["content"]}),console.log("adapted"),n.off()}).catch(function(o){return console.log(o),n.off(),e.toggle("error")})});