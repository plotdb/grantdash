function import$(r,n){var t={}.hasOwnProperty;for(var o in n)t.call(n,o)&&(r[o]=n[o]);return r}ldc.register(["prjForm","loader","ldcvmgr"],function(r){var n,t,o,e;return n=r.prjForm,t=r.loader,r.ldcvmgr,o=function(r){return this.ldcv=new ldCover({root:"[ld-scope=prj-diff]"}),this.view=new ldView({global:!0,initRender:!1,root:"[ld-scope=prj-form]",handler:{"init-loader":function(r){return r.node.classList.toggle("d-none",!0)}}}),this},o.prototype=import$(Object.create(Object.prototype),{fetch:function(){var r=this;return console.log("fetching board form ..."),ld$.fetch("/d/b/4/form",{method:"GET"},{type:"json"}).then(function(n){return r.brd=n})},sharedb:function(){var r;return console.log("initializing sharedb connection ..."),this.sdb=r=new sharedbWrapper({url:{scheme:window.location.protocol.replace(":",""),domain:window.location.host}}),r.on("close",function(){return t.on(),r.reconnect().then(function(){}).then(function(){return t.off()})}),this.hubs={prj:new Hub({sdb:r})}},getdoc:function(){var r=this;return console.log("get project document ..."),this.sdb.get({id:"prj-sample",watch:function(n,t){return r.hubs.prj.fire("change",{ops:n,source:t})}}).then(function(n){return r.hubs.prj.doc=n})},initForm:function(){var r,t,o;return r=function(){var r,n=[];for(t in r=this.brd.detail.group)o=r[t],n.push(o);return n}.call(this)[0]||{},this.ctrlForm=new n({root:"[ld-scope=prj-form]",viewMode:!0,form:(r.form||(r.form={})).list||[],grp:r,brd:this.brd}),this.ctrlForm.adapt({hub:this.hubs.prj,path:["content"]}),this.ctrlForm.on("submit",function(r){return console.log(r)})},render:function(){return this.view.render()}}),(e=new o).fetch().then(function(){return e.sharedb()}).then(function(){return e.getdoc()}).then(function(){return e.initForm()}).then(function(){return e.render()}).then(function(){return t.off()})});