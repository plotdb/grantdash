function import$(t,n){var r={}.hasOwnProperty;for(var e in n)r.call(n,e)&&(t[e]=n[e]);return t}ldc.register("prjCreate",["ldcvmgr","error"],function(t){var n,r,e;return n=t.ldcvmgr,r=t.error,e=function(t){return this.opt=t,this.root=t?"string"==typeof t.root?document.querySelector(t.root):t.root:null,this},e.prototype=import$(Object.create(Object.prototype),{toggle:function(t){return this.init().then(function(){return n.toggle("prj-create",t)})},init:function(){var t=this;return Promise.resolve().then(function(){return t.root?t.dom=t.root:Promise.resolve().then(function(){if(!t.cover)return n.getcover("prj-create").then(function(n){return t.cover=n})}).then(function(){if(!t.dom)return n.getdom("prj-create").then(function(n){return t.dom=n})})}).then(function(){if(!t.form)return t.form=new ldForm({root:t.dom,submit:ld$.find(t.dom,".btn[ld=submit]",0),verify:function(t,n,r){return"description"===t?1:n?0:1},afterCheck:function(t,n){return t.all=t.name}})}).then(function(){return t.form.reset()}).then(function(){if(!t.view)return t.view=new ldView({root:t.dom,action:{click:{submit:function(e){var o,i;if(!(o=e.node).classList.contains("disabled")&&!o.classList.contains("running"))return o.classList.add("running"),i=t.form.values(),ld$.fetch("/d/p/",{method:"POST"},{json:i,type:"json"}).then(function(){return n.toggle("redirect")}).catch(r()).finally(function(){return o.classList.remove("running")})}}},handler:{"brd-name":function(t){var n;return n=t.node,n.innerText="這個活動"},submit:function(){}}})})}}),e});