ldc.register(["general","ldcvmgr","adminInfo","prjCreate","auth","error","loader","general"],function(r){var e,n,t,o,a,i;return r.general,r.ldcvmgr,e=r.adminInfo,r.prjCreate,n=r.auth,t=r.error,o=r.loader,r.general,o.on(),a={},i=/^\/(?:dash\/)?brd\/([^/]+)\/prj\/create/.exec(window.location.pathname)||/^\/(?:dash\/)?brd\/([^/]+)\/grp\/([^/]+)\/prj\/create/.exec(window.location.pathname)||[],i={brd:i[1],grp:i[2]},n.get().then(function(){return ld$.fetch("/dash/api/brd/"+i.brd+"/form",{method:"GET"},{type:"json"})}).then(function(r){var n,t,o,d,p;return a.brd=r,a.grps=(n=r.detail).group||(n.group={}),a.grp=a.grps.filter(function(r){return r.key===i.grp})[0]||a.grps[0],a.grp?(t=ld$.find("[ld-scope=prj-create]",0),o=ld$.find(t,"input[name=brd]",0),o.value=a.brd.slug,d=1!==a.grps.length,new e({root:t,type:"prj"}),p=new ldView({root:t,action:{input:{grp:function(r){var e;return e=r.node,i.grp=e.value,a.grp=a.grps.filter(function(r){return r.key===i.grp})[0],p.render()}}},handler:{"grp-option":{list:function(){return a.grps},handler:function(r){var e,n;return e=r.node,n=r.data,e.value=n.key,e.innerText=n.info.name}},"brd-name":function(r){var e;return e=r.node,e.innerText=a.brd.name},"grp-name":function(r){var e;return e=r.node,e.innerText=a.grp.info.name},"show-grp":function(r){return r.node.classList.toggle("d-none",!d)},inited:function(r){return r.node.classList.toggle("invisible",!1)}}}),o=ld$.find(t,"select[name=grp]",0),o.value=a.grp.key):Promise.reject(new Error(1015,"group is not found"))}).finally(function(){return o.off()}).catch(t())});