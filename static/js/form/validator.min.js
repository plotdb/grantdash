ldc.register("prjFormValidation",["prjFormCriteria"],function(n){var e,t;return e=n.prjFormCriteria,t={number:{type:function(n,e,t){return!(isNaN(n)||null!=e&&isNaN(e)||null!=t&&isNaN(t))},convert:function(n,e,t){return[+n,+(e||0),+(t||0)]},gte:function(n,e){return n>=e},lte:function(n,e){return n<=e},ge:function(n,e){return n>e},le:function(n,e){return n<e},eq:function(n,e){return n===e},ne:function(n,e){return n!==e},between:function(n,e,t){return n>=e&&n<=t}},string:{type:function(n,e){return null!=n&&null!=e},convert:function(n,e){return[n+"",e+""]},include:function(n,e){return~n.indexOf(e)},exclude:function(n,e){return!~n.indexOf(e)},email:function(n,e){return/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.[a-z]{2,}|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.exec(n)},url:function(n,e){return/^\s*http(s):\/\/[a-zA-Z0-9-]+/.exec(n)}},count:{type:function(n,e,t){return null!=n&&null!=e&&null!=t},convert:function(n,e,t){var r;return r=Array.isArray(n)?n.length:null!=n?n.length||(n+"").length:0,[r,+(e||0),+(t||0)]},gte:function(n,e){return n>=e},lte:function(n,e){return n<=e},eq:function(n,e){return n===e},between:function(n,e,t){return n>=e&&n<=t}},regex:{match:function(n,e){return new RegExp(e).exec(n)},"not-match":function(n,e){return!new RegExp(e).exec(n)}},smaller:{type:function(n,e,t){return!(isNaN(n)||null!=e&&isNaN(e)||null!=t&&isNaN(t))},convert:function(n,e,t){return[+n,+(e||0),+(t||0)]},le:function(n,e){return n<e}}},{validate:function(n,r){var u,i,l,c,o,a,f,s,v,p,g;if(null==r&&(r=!1),u=i=(n.value||(n.value={})).content||(n.value||(n.value={})).list,i||(i=!(!(n.value||(n.value={})).start||(n.config||(n.config={})).rangeEnabled&&!(n.value||(n.value={})).end)),n.value.other&&(u=i=(u||[]).concat([n.value.otherValue])),Array.isArray(i)&&(i=i.length),!i&&(n.config.required&&n.touched||r))return{result:!1,criteria:{invalid:"此為必填項目"}};if(!i)return{};for(i&&(n.touched=!0),l=0,o=(c=n.criteria||[]).length;l<o;++l)if((a=c[l]).enabled&&(f=e.schema.types[a.type],a.type&&f&&(s=t[f.ops])[a.op]&&(v=s.convert(u,a.input1,a.input2),u=v[0],p=v[1],g=v[2],!s.type(u,p,g)||!s[a.op](u,p,g))))return{result:!1,criteria:a};return{result:!0}}}});