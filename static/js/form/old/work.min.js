function in$(t,e){for(var n=-1,i=e.length>>>0;++n<i;)if(t===e[n])return!0;return!1}!function(){var t,e,n,i,o,r,a;t={blocks:[]},new ldView({root:"#menu",action:{dragstart:{blocksrc:function(t){var e;return e=t.node,t.evt.dataTransfer.setData("text/plain","form-"+e.getAttribute("data-name"))}}},init:{blocksrc:function(){}}}),e=ld$.find("#root",0),ld$.find(e,".inner",0),n={get:function(t){var n,i;return(n=ld$.find(e,".sample [data-name="+t+"]",0).cloneNode(!0)).setAttribute("draggable",!0),i=ld$.find(n,"[ld=criteria-type]",0),new Dropdown(i),ld$.find(n,"[criteria-op]",0),Promise.resolve(n)}},i=new reblock({root:e,blockManager:n,data:t,action:{inject:function(e){var n,i,o,a,d;return n=e.parent,i=e.node,o=e.name,a=e.data,d=Array.from(n.childNodes).indexOf(i),t.blocks.splice(d,0,a=a||{name:o}),i.blockData=a,r(i)},input:function(t){var e,n,i,o;for(n=e=t.node;n&&!n.blockData;)n=n.parentNode;if(i=n.blockData)return o=e.getAttribute("editable"),(i.data||(i.data={}))[o]=e.innerText||e.value||"",console.log(i)},clone:function(e){var n,i;return(n=e.node).previousSibling.blockData&&(i=Array.from(n.parentNode).indexOf(n),t.blocks.splice(i,0,JSON.parse(JSON.stringify(n.previousSibling.blockData)))),console.log(t)},delete:function(e){var n;return(n=e.node).blockData&&t.blocks.splice(Array.from(n.parentNode).indexOf(n),1),console.log(t)},move:function(t){t.src,t.des,t.origin}}}),o={types:{"form-short-answer":["number","string","length","regex"],"form-long-answer":["string","length","regex"],"form-radio":[],"form-checkbox":["count"],"form-file":["file-size","file-formt","file-count"],budget:["count"],checkpoint:["count"]}},r=function(t){var n,i,r,a,d,c,l,f,s,g,p,u;return n=t.blockData,i=((r=n.config||(n.config={})).criteria||(r.criteria={})).type,a=o.types[n.name],in$(i,a)||(i=a[0]),d=ld$.find(t,"[ld=criteria-type]",0),c=ld$.find(d,".dropdown-toggle",0),ld$.find(d,".dropdown-item").map(function(t){return t.classList.toggle("d-none",!in$(t.getAttribute("data-criteria-type"),a))}),l=ld$.find(d,".dropdown-item[data-criteria-type="+i+"]",0),c.innerText=l.innerText,f=ld$.find(t,"[ld=criteria-op]",0),s=l.getAttribute("data-ops")||i,console.log(s),(g=ld$.find(f,".dropdown",0))&&g.getAttribute("data-criteria-ops")===s||(g=ld$.find(e,"[data-criteria-ops="+s+"]",0),f.innerHTML="",f.appendChild(g=g.cloneNode(!0)),new Dropdown(g)),console.log(g),p=((r=n.config||(n.config={})).criteria||(r.criteria={})).op||ld$.find(g,".dropdown-item",0).getAttribute("data-op"),(l=ld$.find(f,".dropdown-item[data-op="+p+"]",0))||(p=ld$.find(g,".dropdown-item",0).getAttribute("data-op"),l=ld$.find(f,".dropdown-item[data-op="+p+"]",0)),u=ld$.find(g,".dropdown-toggle",0),u.innerText=l.innerText,r=n.config.criteria,r.op=p,r.type=i,r},a=function(t){for(;t&&!t.blockData;)t=t.parentNode;if(t&&t.blockData)return t},e.addEventListener("click",function(t){var e,n,o,d,c,l,f,s,g;if((e=t.target)&&e.getAttribute&&e.classList&&(n=a(e))&&(o=n.blockData,e.classList.contains("switch")&&(e.classList.toggle("on"),d=e.getAttribute("data-name"),(o.config||(o.config={}))[d]=e.classList.contains("on")),"delete"===e.getAttribute("data-action")&&(i.select(n),i.delete()),"clone"===e.getAttribute("data-action")&&i.inject({node:e,data:JSON.parse(JSON.stringify(o))}),e.classList.contains("dropdown-item"))){if(c=ld$.parent(e,"[ld]"),ld$.find(c,".dropdown-toggle",0),d=c.getAttribute("ld"),console.log(d),"criteria-type"===d)return l=e.getAttribute("data-criteria-type"),((f=(s=n.blockData).config||(s.config={})).criteria||(f.criteria={})).type=l,r(n);if("criteria-op"===d)return g=e.getAttribute("data-op"),((f=(s=n.blockData).config||(s.config={})).criteria||(f.criteria={})).op=g,console.log(123,g),r(n)}})}();