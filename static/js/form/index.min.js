ldc.register("prjForm",["prjFormCriteria","prjFormBlock"],function(r){var e,t,n,o;return r.prjFormCriteria,e=r.prjFormBlock,!0,t={get:function(r){return new Promise(function(e,t){var n,o;return(n=ld$.find("[data-name="+r+"]",0))||t(new Error("block not found")),(o=ld$.create({name:"div",attr:{draggable:!0}})).appendChild(n.cloneNode(!0)),e(o)})}},n=function(r){return console.log("update",r)},new ldView({root:"#form",handler:{block:{list:function(){return sampleBlocks},init:function(r){var o,a;return o=r.node,a=r.data,t.get(a.name).then(function(r){(r=r.childNodes[0]).parentNode.removeChild(r),o.innerHTML="",o.appendChild(r),e.render({node:o,data:a,viewMode:!0,update:n})})}}}}),(o=ld$.find("[ld-scope=blocksrc]",0))&&new ldView({root:o,action:{dragstart:{block:function(r){var e;return e=r.node,r.evt.dataTransfer.setData("text/plain",e.getAttribute("data-name")+"")}}}}),new reblock({root:"#form",blockManager:t,action:{afterMoveNode:function(r){var e,t;if(e=r.src,r.des,r.ib,e.parentNode.hasAttribute("hostable")){for(t=e.parentNode;t&&!t._data;)t=t.parentNode;if(!t)return;return t._data.data=Array.from(e.parentNode.childNodes).filter(function(r){return 1===r.nodeType}).map(function(r){return r._data}).filter(function(r){return r}),t.view.list.render()}}}})}),ldc.app("prjForm");