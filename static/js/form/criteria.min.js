ldc.register("prjFormCriteria",[],function(){var n,e;return n={types:{number:{name:"數值",ops:"number"},string:{name:"文字",ops:"string"},length:{name:"長度",ops:"count"},regex:{name:"正規式",ops:"regex"},count:{name:"選項數",ops:"count"},"file-size":{name:"檔案大小",ops:"smaller"},"file-format":{name:"檔案格式",ops:"extension"},"file-count":{name:"檔案數量",ops:"count"}},ops:{extension:{extension:{name:"副檔名"}},regex:{match:{name:"符合"},"not-match":{name:"不符"}},count:{gte:{name:'<div class="s mr-2">&#x2265;</div> 大於或等於'},lte:{name:'<div class="s mr-2">&#x2264;</div> 小於或等於'},eq:{name:'<div class="s mr-2">=</div> 等於'},between:{name:'<div class="s mr-2">&#x223c;</div> 介於',field:2}},string:{include:{name:"包含"},exclude:{name:"不包含"},email:{name:"電子郵件位置"},url:{name:"網址"}},number:{gte:{name:'<div class="s mr-2">&#x2265;</div> 大於或等於'},lte:{name:'<div class="s mr-2">&#x2264;</div> 小於或等於'},ge:{name:'<div class="s mr-2">&gt;</div> 大於'},le:{name:'<div class="s mr-2">&lt;</div> 小於'},eq:{name:'<div class="s mr-2">=</div> 等於'},ne:{name:'<div class="s mr-2">&#x2260;</div> 不等於'},between:{name:'<div class="s mr-2">&#x223c;</div> 介於',field:2}},smaller:{ge:{name:'<div class="s mr-2">&gt;</div> 大於'}}},support:{"form-short-answer":["number","string","length","regex"],"form-long-answer":["string","length","regex"],"form-radio":[],"form-checkbox":["count"],"form-file":["file-size","file-formt","file-count"],"form-budget":["count"],"form-checkpoint":["count"]}},e=function(e){var r,t,i,a;return r=e.node,t=e.data,i=t,(r.view||(r.view={})).criteria=a=new ldView({root:r,action:{click:{add:function(){return(t.criteria||(t.criteria=[])).push({type:"number"}),a.render()}}},handler:{criteria:{list:function(){return t.criteria||(t.criteria=[])},action:{click:function(n){var e,r,t,i;if(e=n.node,r=n.data,t=n.evt,i=ld$.parent(t.target,".dropdown-item",e))return i.type&&(r.type=i.type),i.op&&(r.op=i.op),e.view.render()}},init:function(e){var r,t,a,o;return r=e.node,t=e.data,a=function(){return t.type||n.support[i.name][0]||"number"},o=function(){var e,r,i;return e=n.ops[n.types[a()].ops],r=function(){var n,t=[];for(i in n=e)r=n[i],t.push(r);return t}()[0],e[t.op]||r||{name:""}},ld$.find(r,".dropdown .dropdown-toggle").map(function(n){return new Dropdown(n)}),r.view=new ldView({root:r,action:{input:{input1:function(n){var e;return e=n.node,t.input1=ld$.find(e,"input",0).value},input2:function(n){var e;return e=n.node,t.input2=ld$.find(e,"input",0).value},invalid:function(n){var e;return e=n.node,t.invalid=e.value}}},handler:{input1:function(n){var e;return e=n.node,ld$.find(e,"input",0).value=t.input1||""},input2:function(n){var e;return(e=n.node).classList.toggle("d-none",(o().field||1)<2),ld$.find(e,"input",0).value=t.input2||""},invalid:function(n){var e;return e=n.node,e.value=t.invalid||""},type:function(e){var r;return r=e.node,r.innerText=n.types[a()].name},op:function(n){var e;return e=n.node,e.innerHTML=o().name},types:{list:function(){return n.support[i.name]},handler:function(e){var r,t;return r=e.node,t=e.data,r.innerText=n.types[t].name,r.type=t}},ops:{list:function(){var e,r,t,i=[];for(e in r=n.ops[n.types[a()].ops])t=r[e],i.push([e,t]);return i},handler:function(n){var e,r;return e=n.node,r=n.data,e.innerHTML=r[1].name,e.op=r[0]}}}})},handler:function(n){var e;if(e=n.node,n.data,e.view)return e.view.render()}}}})},{render:e,schema:n}});