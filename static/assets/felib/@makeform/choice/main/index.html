<div><div class="form-group" plug="widget" ld="base"><div ld="display" data-display="block"><label ld="label"></label><span class="text-danger ml-2" ld="is-required">*</span></div><div class="text-sm text-muted" ld="display" data-display="block"><div ld="desc" style="margin:-.6em 0 .7em"></div></div><select class="m-edit form-control" ld="input"><option value="">...</option><option ld-each="option">...</option></select><div class="m-view"><div ld="content"></div></div></div><script type="@plotdb/block">var mod;module.exports={pkg:{name:"@makeform/choice",extend:{name:"@makeform/base"}},init:function(e){return e.pubsub.fire("init",{mod:mod(e)})}};mod=function(e){var i,t,n,r,o,u,a,s,d;i=e.root,t=e.ctx,n=e.data,r=e.parent,o=e.t,u=e.i18n;a=t.ldview;s={};d=function(e){s.meta=e;s.cfg=e.config;return s.display=e.config.display||"block"};d(n);return{init:function(){var e,t,n=this;this.on("meta",function(){return d(n.serialize())});this.on("change",function(e){n.view.get("input").value=e||"";return n.view.render(["input","content"])});e=function(e){var t;t=e.node;return n.value(t.value)};return this.view=t=new a({root:i,text:{label:function(){return o(s.meta.title||"untitled")}},action:{input:{input:e},change:{input:e}},handler:{"is-required":function(e){var t;t=e.node;return t.classList.toggle("d-none",!s.meta.isRequired)},desc:function(e){var t;t=e.node;t.classList.toggle("d-none",!s.meta.desc);return t.innerText=o(s.meta.desc||"")||""},display:function(e){var t;t=e.node;return t.classList.toggle("d-none",t.getAttribute("data-display")!==s.display)},base:function(e){var t;t=e.node;return t.classList.toggle("form-group",s.display==="block")},content:function(e){var t;t=e.node;if(n.isEmpty()){return"n/a"}else{return t.innerText=n.content()}},option:{list:function(){return s.cfg.values||[]},key:function(e){return e},handler:function(e){var t,n;t=e.node,n=e.data;t.setAttribute("value",n);return t.innerText=o(n)}},input:function(e){var t;t=e.node;if(!s.meta.readonly){t.removeAttribute("readonly");t.removeAttribute("disabled")}else{t.setAttribute("readonly",null);t.setAttribute("disabled",null)}return t.classList.toggle("is-invalid",n.status()===2)}}})},render:function(){return this.view.render()}}};</script></div>