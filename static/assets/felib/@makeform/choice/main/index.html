<div><div class="form-group" plug="widget" ld="base"><label ld="display label" data-display="block"></label><div class="text-sm text-muted" ld="display" data-display="block"><div ld="desc" style="margin:-.6em 0 .7em"></div></div><select class="m-edit form-control" ld="input"><option value="">...</option><option ld-each="option">...</option></select><div class="m-view"><div ld="content"></div></div></div><script type="@plotdb/block">var mod;module.exports={pkg:{name:"@makeform/choice",extend:{name:"@makeform/base"}},init:function(t){return t.pubsub.fire("init",{mod:mod(t)})}};mod=function(t){var e,n,r,i,o,a,u,s,c;e=t.root,n=t.ctx,r=t.data,i=t.parent,o=t.t,a=t.i18n;u=n.ldview;s={};c=function(t){s.meta=t;s.cfg=t.config;return s.display=t.config.display||"block"};c(r);return{init:function(){var t,n,r=this;this.on("meta",function(){return c(r.serialize())});this.on("change",function(t){r.view.get("input").value=t||"";return r.view.render(["input","content"])});t=function(t){var n;n=t.node;return r.value(n.value)};return this.view=n=new u({root:e,text:{label:function(){return o(s.meta.title||"untitled")}},action:{input:{input:t},change:{input:t}},handler:{desc:function(t){var n;n=t.node;n.classList.toggle("d-none",!s.meta.desc);return n.innerText=o(s.meta.desc||"")||""},display:function(t){var n;n=t.node;return n.classList.toggle("d-none",n.getAttribute("data-display")!==s.display)},base:function(t){var n;n=t.node;return n.classList.toggle("form-group",s.display==="block")},content:function(t){var n;n=t.node;if(r.isEmpty()){return"n/a"}else{return n.innerText=r.content()}},option:{list:function(){return s.cfg.values||[]},key:function(t){return t},handler:function(t){var n,e;n=t.node,e=t.data;n.setAttribute("value",e);return n.innerText=o(e)}},input:function(t){var n,e;n=t.node;e=!!s.meta.readonly;if(e){n.setAttribute("readonly",true)}else{n.removeAttribute("readonly")}return n.classList.toggle("is-invalid",r.status()===2)}}})},render:function(){return this.view.render()}}};</script></div>