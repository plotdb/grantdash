<div><div class="has-tips manual" ld="base error-root" plug="widget" style="cursor:default"><div class="m-edit"><div class="input-group multilang"><input class="form-control active" ld="ml-input" data-name="zh" t t-placeholder="zh"><input class="form-control" ld="ml-input" data-name="en" t t-placeholder="en"></div><div class="hover-tip tip-sm"><div ld-each="error"></div></div></div><div class="m-view" ld="content"></div></div><style type="text/css">.input-group.multilang input.active{flex:4 0 auto}.input-group.multilang input{transition:flex .15s ease-in-out;box-shadow:inset 0 1px 1px rgba(0,0,0,0.1)}</style><script type="@plotdb/block">var mod;module.exports={pkg:{name:"@makeform/bilingual",extend:{name:"@makeform/common"},dependencies:[],i18n:{en:{"單位":"unit",unit:"unit",en:"English",zh:"Chinese"},"zh-TW":{"單位":"單位",unit:"單位",en:"英文",zh:"中文"}}},init:function(e){return e.pubsub.fire("subinit",{mod:mod(e)})}};mod=function(e){var t,n,i,r,o,u,a;t=e.root,n=e.ctx,i=e.data,r=e.parent,o=e.t;u=n.ldview;a={};return{init:function(){var e,n,a=this;this.on("change",function(e){var n,t,i;n=a.mod.child.nodes,t=n.zh,i=n.en;e=a.content()||{};if(t.value===e.zh&&i.value===e.en){return}t.value=e.zh||"";i.value=e.en||"";return a.mod.child.view.render(["preview","ml-input","content"])});e=function(){var e,n,t,i;e=a.mod.child.nodes,n=e.zh,t=e.en;i=a.isEmpty()?{}:a.content();if(n.value===i.zh&&t.value===i.en){return}i.zh=n.value;i.en=t.value;return a.value({v:i})};this.mod.child.view=n=new u({initRender:false,root:t,action:{focus:{"ml-input":function(e){var n;n=e.node;n.classList.add("active");return(n.nextSibling||n.previousSibling).classList.remove("active")}},input:{"ml-input":e},change:{"ml-input":e},click:{"ml-input":function(e){var n;n=e.node;n.classList.add("active");return(n.nextSibling||n.previousSibling).classList.remove("active")}}},handler:{"ml-input":function(e){var n,t,i,r,o,u;n=e.node;t=n.getAttribute("data-name");i=a.mod.info.config.language||"both";r=t===i||!(i==="zh"||i==="en");o=!r||!!a.mod.info.meta.readonly;if(o){n.setAttribute("readonly",true)}else{n.removeAttribute("readonly")}u=a.content();n.classList.toggle("is-invalid",r&&a.status()===2);return n.classList.toggle("d-none",!r)},content:function(e){var n,t,i;n=e.node;t=a.content();i=a.isEmpty()?"n/a":(t.zh||"")+" / "+(t.en||"");n.classList.toggle("text-muted",a.isEmpty());return n.innerText=i}}});this.mod.child.nodes=Object.fromEntries(n.getAll("ml-input").map(function(e){return[e.getAttribute("data-name"),e]}));return this.mod.child.view.render()},render:function(){return this.mod.child.view.render()},isEmpty:function(e){var n,t,i;e=this.content(e);if(typeof e==="undefined"||typeof e!=="object"||e===null){return true}n=this.mod.info.config.language;t=(e.zh||"").trim();i=(e.en||"").trim();if(n==="en"&&!i){return true}if(n==="zh"&&!t){return true}if(!(t&&i)){return true}return false},content:function(e){if(e&&typeof e==="object"){return e.v}else{return e}}}};</script></div>