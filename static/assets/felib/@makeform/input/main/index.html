<div><div class="form-group has-tips manual" ld="base error-root" plug="widget" style="cursor:default"><div ld="display" data-display="block"><label class="text-capitalize d-flex align-items-end"><div><span ld="label"></span><span class="variant text-sm ml-2">(<span ld="variant"></span>)</span></div><div class="flex-grow-1"></div><div class="m-edit"><div class="text-danger text-sm" ld="limitation"></div></div></label></div><div class="m-edit"><input class="form-control" ld="input" autocomplete="off" autocapitalize="off"><div class="unit text-muted" ld="has-unit"><span t>單位</span>: <span ld="unit"> ...</span></div><div class="hover-tip tip-sm"><div ld-each="error"></div></div></div><div class="m-edit" ld="display" data-display="block"><div class="text-danger text-sm mt-2 note" ld-each="note"></div></div><div class="m-view" ld="content"></div></div><style type="text/css">.variant{display:none}.has-variant .variant{display:inline}.unit{pointer-events:none;text-align:right;margin:-1.75em .5em 0 0;line-height:1em;font-size:.75em}</style><script type="@plotdb/block">var mod;module.exports={pkg:{name:"@makeform/input",extend:{name:"@makeform/base"},dependencies:[{name:"marked",version:"main",path:"marked.min.js"}],i18n:{en:{"單位":"unit"},"zh-TW":{unit:"單位"}}},init:function(e){return e.pubsub.fire("init",{mod:mod(e)})}};mod=function(e){var t,n,r,i,a,u,c,s,l;t=e.root,n=e.ctx,r=e.data,i=e.parent,a=e.t;u=n.ldview,c=n.marked;s={};l=function(e){s.meta=e;s.cfg=e.config;return s.display=e.config.display||"block"};l(r);return{init:function(){var e,r,o=this;this.on("meta",function(){return l(o.serialize())});this.on("change",function(e){if(o.view.get("input").value===(o.content(e)||"")){return}o.view.get("input").value=o.content(e)||"";return o.view.render(["preview","input","content"])});e=function(e){var t,n,r;t=e.node;if(o.content(n=o.value())===(r=t.value)){return}if(n&&typeof n==="object"){n.v=r}else{n={v:r}}return o.value(n)};return this.view=r=new u({root:t,action:{input:{input:e},change:{input:e,"enable-markdown-input":function(e){var t,n;t=e.node;s.markdown=t.checked;if(!s.markdown){s.preview=false}if(typeof(n=o.value())!=="object"){n={v:n}}n.markdown=s.markdown;o.value(n);return r.render()}},click:{mode:function(e){var t;t=e.node;s.preview=t.getAttribute("data-name")==="preview"?true:false;return r.render()}}},text:{label:function(){return a(s.meta.title||"untitled")},variant:function(e){var t;t=e.node;return a(s.cfg.variant||"")},unit:function(e){var t;t=e.node;return a(s.cfg.unit||"")}},handler:{display:function(e){var t;t=e.node;return t.classList.toggle("d-none",t.getAttribute("data-display")!==s.display)},"has-unit":function(e){var t;t=e.node;return t.classList.toggle("d-none",!s.cfg.unit)},"enable-markdown":function(e){var t;t=e.node;return t.classList.toggle("d-none",!s.cfg.showMarkdownOption)},mode:function(e){var t,n;t=e.node;t.classList.toggle("d-none",!s.markdown);return t.classList.toggle("active",!(!s.preview!==!(n=t.getAttribute("data-name")==="preview")&&(s.preview||n)))},base:function(e){var t;t=e.node;t.classList.toggle("form-group",s.display==="block");return t.classList.toggle("has-variant",!!s.cfg.variant)},preview:function(e){var t;t=e.node;if(!r){return}t.classList.toggle("d-none",!s.preview);return t.innerHTML=c.parse(r.get("input").value)},limitation:function(e){var t;t=e.node;t.classList.toggle("d-none",!s.cfg.limitation);return t.innerHTML="* "+a(s.cfg.limitation||"")},input:function(e){var t,n;t=e.node;n=!!s.meta.readonly;if(n){t.setAttribute("readonly",true)}else{t.removeAttribute("readonly")}t.classList.toggle("is-invalid",o.status()===2);if(s.cfg.placeholder){return t.setAttribute("placeholder",s.cfg.placeholder)}else{return t.removeAttribute("placeholder")}},content:function(e){var t,n,r,i;t=e.node;n=o.content();r=o.isEmpty()?"n/a":n+((i=s.cfg.unit)?i:"");t.classList.toggle("text-muted",o.isEmpty());return t.innerText=r},"error-root":function(e){var t;t=e.node;return t.classList.toggle("manual",o.status()!==2)},error:{list:function(){var e;if((e=o.status())!==2){return[]}return o._errors.slice(0,1).concat(o._errors.length>1?["..."]:[])},text:function(e){var t;t=e.data;return a(t)}},note:{list:function(){if(Array.isArray(s.cfg.note)){return s.cfg.note}else if(s.cfg.note){return[s.cfg.note]}else{return[]}},key:function(e){return e},handler:function(e){var t,n;t=e.node,n=e.data;return t.innerText="* "+a(n)}}}})},render:function(){return this.view.render()},isEmpty:function(e){e=this.content(e);return typeof e==="undefined"||typeof e==="string"&&e.trim()===""||e===null},content:function(e){if(e&&typeof e==="object"){return e.v}else{return e}}}};</script></div>