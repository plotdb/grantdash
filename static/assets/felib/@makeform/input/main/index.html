<div><div class="form-group has-tips manual" ld="base error-root" plug="widget" style="cursor:default"><div ld="display" data-display="block"><label class="text-capitalize d-flex align-items-end"><div><span ld="label"></span><span class="variant text-sm ml-2">(<span ld="variant"></span>)</span></div><div class="flex-grow-1"></div><div class="m-edit"><div class="text-danger text-sm" ld="limitation"></div></div></label></div><div class="m-edit"><input class="form-control" ld="input" autocomplete="off" autocapitalize="off"><div class="unit text-muted" ld="has-unit"><span t>單位</span>: <span ld="unit"> ...</span></div><div class="hover-tip tip-sm"><div ld-each="error"></div></div></div><div class="m-edit" ld="display" data-display="block"><div class="text-danger text-sm mt-2 note" ld-each="note"></div></div><div class="m-view" ld="content"></div></div><style type="text/css">.variant{display:none}.has-variant .variant{display:inline}.unit{pointer-events:none;text-align:right;margin:-1.75em .5em 0 0;line-height:1em;font-size:.75em}</style><script type="@plotdb/block">var mod;module.exports={pkg:{name:"@makeform/input",extend:{name:"@makeform/base"},dependencies:[{name:"marked",version:"main",path:"marked.min.js"}]},init:function(n){return n.pubsub.fire("init",{mod:mod(n)})},i18n:{en:{"單位":"unit"},"zh-TW":{unit:"單位"}}};mod=function(n){var e,t,r,i,o,u,c,l,s,d;e=n.root,t=n.ctx,r=n.data,i=n.parent,o=n.t;u=t.ldview,c=t.marked;l={};s=r||{};d=s.config.display||"block";return{init:function(){var n,r,a=this;this.on("change",function(n){if(a.view.get("input").value===(a.content(n)||"")){return}a.view.get("input").value=a.content(n)||"";return a.view.render(["preview","input","content"])});n=function(n){var e,t,r;e=n.node;if(a.content(t=a.value())===(r=e.value)){return}if(t&&typeof t==="object"){t.v=r}else{t={v:r}}return a.value(t)};return this.view=r=new u({root:e,action:{input:{input:n},change:{input:n,"enable-markdown-input":function(n){var e,t;e=n.node;l.markdown=e.checked;if(!l.markdown){l.preview=false}if(typeof(t=a.value())!=="object"){t={v:t}}t.markdown=l.markdown;a.value(t);return r.render()}},click:{mode:function(n){var e;e=n.node;l.preview=e.getAttribute("data-name")==="preview"?true:false;return r.render()}}},text:{label:function(){return o((s||{}).title||"untitled")},variant:function(n){var e;e=n.node;return o(s.config.variant||"")},unit:function(n){var e;e=n.node;return o(s.config.unit||"")}},handler:{display:function(n){var e;e=n.node;return e.classList.toggle("d-none",e.getAttribute("data-display")!==d)},"has-unit":function(n){var e;e=n.node;return e.classList.toggle("d-none",!s.config.unit)},"enable-markdown":function(n){var e;e=n.node;return e.classList.toggle("d-none",!s.config.showMarkdownOption)},mode:function(n){var e,t;e=n.node;e.classList.toggle("d-none",!l.markdown);return e.classList.toggle("active",!(!l.preview!==!(t=e.getAttribute("data-name")==="preview")&&(l.preview||t)))},base:function(n){var e;e=n.node;e.classList.toggle("form-group",d==="block");return e.classList.toggle("has-variant",!!s.config.variant)},preview:function(n){var e;e=n.node;if(!r){return}e.classList.toggle("d-none",!l.preview);return e.innerHTML=c.parse(r.get("input").value)},limitation:function(n){var e;e=n.node;e.classList.toggle("d-none",!s.config.limitation);return e.innerHTML="* "+o(s.config.limitation||"")},input:function(n){var e,t;e=n.node;t=!!s.readonly;if(t){e.setAttribute("readonly",true)}else{e.removeAttribute("readonly")}e.classList.toggle("is-invalid",a.status()===2);if(s.config.placeholder){return e.setAttribute("placeholder",s.config.placeholder)}else{return e.removeAttribute("placeholder")}},content:function(n){var e,t,r,i,o;e=n.node;t=a.content();r=t===""||t===null||typeof t==="undefined";i=r?"n/a":t+((o=s.config.unit)?o:"");e.classList.toggle("text-muted",r);return e.innerText=i},"error-root":function(n){var e;e=n.node;return e.classList.toggle("manual",a.status()!==2)},error:{list:function(){var n;if((n=a.status())!==2){return[]}return a._errors.slice(0,1).concat(a._errors.length>1?["..."]:[])},text:function(n){var e;e=n.data;return o(e)}},note:{list:function(){if(Array.isArray(s.config.note)){return s.config.note}else if(s.config.note){return[s.config.note]}else{return[]}},key:function(n){return n},handler:function(n){var e,t;e=n.node,t=n.data;return e.innerText="* "+t}}}})},render:function(){return this.view.render()},isEmpty:function(n){n=this.content(n);return typeof n==="undefined"||typeof n==="string"&&n.trim()===""||n===null},content:function(n){if(n&&typeof n==="object"){return n.v}else{return n}}}};</script></div>