<div><div class="ldcv scroll" ld="ldcv" data-name="print"><div class="base" ld-scope="print"><div class="inner"><div class="p-4"><div class="w-100"><div class="mb-4"><div class="btn btn-primary" ld="print">列印</div></div><iframe ld="iframe" style="width:100%;height:10px;display:inline;opacity:0;pointer-events:none"></iframe><div ld="root"><h3>審查結果總表</h3><div class="border mb-4"><div class="p-2 d-flex align-items-center border-bottom bg-light"><div class="mr-2 text-center px-2 clickable" ld="sort-custom" data-name="idx" style="width:6em">編號</div><div class="flex-grow-1 clickable mr-2" ld="sort" data-name="name">提案名稱</div><div class="mr-2 text-right px-2 clickable d-none" ld="show-budget sort" data-name="budget" style="width:50px">預算</div><div class="mr-2 d-flex text-muted text-center align-items-center"><div class="mx-2 clickable" ld="option sort" data-name="primary" data-value="0" style="width:3em"><span>資格審查結果</span></div></div></div><div class="prj px-2 py-2 d-flex align-items-center" ld-each="project"><div class="text-nowrap text-center text-sm mr-2" style="width:6em"><span ld="idx"></span></div><div class="flex-grow-1 text-truncate mr-2" style="width:15em"><div class="text-underline text-truncate clickable" ld="name"></div><div class="text-sm text-muted" ld="ownername"></div></div><div class="mr-2 text-right text-nowrap d-none" ld="show-budget" style="width:75px"><div><span class="text-sm text-muted mr-1">總數</span><b class="text-sm text-nowrap" ld="budget"></b></div><div><span class="text-sm text-muted mr-1">補助</span><b class="text-sm text-nowrap" ld="subsidy"></b></div></div><div class="d-flex align-items-center text-muted justify-content-end clickable" ld="edit" style="width:6em;height:2em"><div class="px-2 py-1 rounded" style="margin-top:5px" ld="result">未填</div></div></div></div><div style="page-break-after:always"></div><h3>各別專案審查細節</h3><div class="mb-4" ld-each="project-detail"><div class="mb-2 d-flex justify-content-between align-items-center"><div>案件編號： <span ld="idx"></span></div><div class="d-flex align-items-center"><span>審查人員： <span ld="chief"></span></span></div></div><plug name="basicinfo-print"></plug><table class="table table-bordered"><tr class="bg-light font-weight-bold"><th class="text-nowrap">項次</th><th class="text-nowrap">項目</th><th class="text-nowrap">必要</th><th class="text-nowrap">通過</th><th class="text-nowrap">不符</th><th class="text-nowrap">備註</th></tr><tr ld-each="item"><td class="align-middle text-center" ld="index"></td><td class="align-middle"><div ld="name"></div></td><td class="text-center align-middle" ld="required"><i class="i-check"></i></td><td class="text-center align-middle clickable" ld="check" data-name="yes"><div class="btn" style="width:3em"><i class="i-check"></i></div></td><td class="text-center align-middle clickable" ld="check" data-name="no"><div class="btn" style="width:3em"><i class="i-check"></i></div></td><td class="p-0" style="width:10em"><div class="p-2" ld="note" style="min-height:3em;white-space:pre-wrap;word-break:break-all"></div></td></tr></table><div class="d-flex align-items-center mb-2" style="gap:1em"><div>通知日期</div><div ld="notify-date"></div><div class="flex-grow-1"></div><div>資格審查結果</div><div ld="result"></div></div><div class="d-flex align-items-center mb-2" style="gap:1em"><div>補正日期</div><div ld="amend-date"></div><div class="flex-grow-1"></div><div>補正結果</div><div ld="amend"></div></div><div class="my-4 py-4"><hr></div><div style="page-break-after:always;page-break-after:always"></div></div></div></div></div></div></div></div><div class="ldcv" ld="ldcv" data-name="published"><div class="base"><div class="inner"><div class="p-4"><div class="m-4"><h3 class="text-center">審查結果已發布</h3><br><div class="btn btn-lg btn-block btn-outline-primary" data-ldcv-set="">關閉</div></div></div></div></div></div><div class="h-100 w-100 d-flex flex-column content"><div class="flex-grow-1 d-flex w-100" style="overflow:hidden"><div class="d-flex flex-column position-relative" style="flex:1 1 40%"><div class="p-2 d-flex align-items-center g-2"><span ld="brd"></span><span>/</span>資格審查表</div><div class="w-100 h-100 position-absolute z-fixed border shadow rounded d-none bg-white" ld="reader" style="top:0;left:0"><div class="btn btn-lg btn-text position-absolute" ld="reader-close" style="top:.5em;right:.5em"><i class="i-close"></i></div><iframe class="w-100 h-100 border-0" ld="iframe"></iframe></div><div class="flex-grow-1 bg-white border-top border-bottom" style="overflow:scroll"><div class="w-100"><div class="p-2 d-flex align-items-center border-bottom border-secondary bg-light sticky shadow-sm z-float" style="top:0"><div class="mr-2 text-center px-2 clickable" ld="sort-custom" data-name="idx" style="width:6em">編號</div><div class="flex-grow-1 clickable mr-2" ld="sort" data-name="name">提案名稱</div><div class="mr-2 text-right px-2 clickable d-none" ld="show-budget sort" data-name="budget" style="width:50px">預算</div><div class="mr-2 d-flex text-muted text-center align-items-center"><div class="mx-2 clickable" ld="option sort" data-name="primary" data-value="0" style="width:3em"><span>資格審查結果</span></div></div></div><div class="prj px-2 py-2 d-flex align-items-center" ld-each="project"><div class="text-nowrap text-center text-sm mr-2" style="width:6em"><span ld="idx"></span></div><div class="flex-grow-1 text-truncate mr-2" style="width:15em"><div class="text-underline text-truncate clickable" ld="name"></div><div class="text-sm text-muted" ld="ownername"></div></div><div class="mr-2 text-right text-nowrap d-none" ld="show-budget" style="width:75px"><div><span class="text-sm text-muted mr-1">總數</span><b class="text-sm text-nowrap" ld="budget"></b></div><div><span class="text-sm text-muted mr-1">補助</span><b class="text-sm text-nowrap" ld="subsidy"></b></div></div><div class="mr-4 d-flex align-items-center text-muted justify-content-end clickable" ld="edit" style="width:6em;height:2em"><div class="mr-2 px-2 py-1 rounded" style="margin-top:5px" ld="result">未填</div><i class="i-pen"></i></div></div></div></div><div class="px-4 py-2 w-100"><div class="d-flex align-items-center"><div class="mr-4 text-sm"><div class="d-flex align-items-center my-1" style="line-height:1rem"><div class="flex-grow-1" style="flex-basis:0"><div class="d-flex align-items-center"><div class="bg-success d-inline-block mr-1 rounded" style="width:1em;height:1em"></div><span class="mr-2">符合</span></div></div><div class="flex-grow-1" style="flex-basis:0"><div class="d-flex align-items-center"><div class="bg-info d-inline-block mr-1 rounded" style="width:1em;height:1em"></div><span class="mr-2">已補正</span></div></div></div><div class="d-flex align-items-center my-1" style="line-height:1rem"><div class="flex-grow-1" style="flex-basis:0"><div class="d-flex align-items-center"><div class="bg-warning d-inline-block mr-1 rounded" style="width:1em;height:1em"></div><span class="mr-2">需補正</span></div></div><div class="flex-grow-1" style="flex-basis:0"><div class="d-flex align-items-center"><div class="bg-danger d-inline-block mr-1 rounded" style="width:1em;height:1em"></div><span class="mr-2">不符合</span></div></div></div></div><div class="mr-2 flex-grow-1"><div class="text-muted text-sm d-flex"><div class="mr-4 flex-grow-1">完成度 / <span class="text-danger" ld="progress progress-percent">0</span>%</div><div class="text-dark mr-4">已審: <span ld="count" data-name="done"></span></div><div class="text-dark">未審: <span ld="count" data-name="todo"></span></div></div><div class="progress my-1" style="width:100%"><div class="progress-bar bg-success progress-bar-striped progress-bar-animated" ld="progress progress-bar" data-name="符合"></div><div class="progress-bar bg-info progress-bar-striped progress-bar-animated" ld="progress progress-bar" data-name="已補正"></div><div class="progress-bar bg-warning progress-bar-striped progress-bar-animated" ld="progress progress-bar" data-name="需補正"></div><div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" ld="progress progress-bar" data-name="不符合"></div></div></div><div class="ml-4"><div class="btn btn-primary ld mr-2" ld="publish">發布</div><div class="btn btn-primary ld" ld="print">列印</div></div></div></div></div><div style="flex:1 1 60%"><div class="card border shadow w-100 h-100" style="overflow:hidden;border-radius:0"><div class="card-body p-0 position-relative"><div class="w-100 h-100 position-absolute d-flex align-items-center justify-content-center"><div class="text-lg text-muted text-center">點擊提案以<br>開啟審查表單</div></div><div class="w-100 h-100 p-4 position-relative z-float bg-white" ld-scope ld="form" style="overflow-y:scroll"><div class="mb-2 d-flex justify-content-between align-items-center"><div>案件編號： <span ld="idx"></span></div><div class="d-flex align-items-center"><span>審查人員： <span ld="chief"></span></span><div class="btn btn-sm btn-outline-secondary ml-2" ld="set-chief">認領</div></div></div><plug name="basicinfo"></plug><table class="table table-bordered"><tr class="bg-light font-weight-bold"><th class="text-nowrap">項次</th><th class="text-nowrap">項目</th><th class="text-nowrap" ld="use-required">必要</th><th class="text-nowrap">通過</th><th class="text-nowrap">不符</th><th class="text-nowrap">備註</th></tr><tr ld-each="item"><td class="align-middle text-center" ld="index"></td><td class="align-middle"><div ld="name"></div><div class="text-sm text-danger" ld="description" style="white-space:pre-wrap"></div></td><td class="text-center align-middle" ld="use-required required"><i class="i-check"></i></td><td class="text-center align-middle clickable" ld="check" data-name="yes"><div class="btn" style="width:3em"><i class="i-check"></i></div></td><td class="text-center align-middle clickable" ld="check" data-name="no"><div class="btn" style="width:3em"><i class="i-check"></i></div></td><td class="p-0 position-relative" style="width:10em"><textarea class="form-control border-0 w-100" ld="note" style="min-height:3em"></textarea></td></tr></table><div class="d-flex align-items-center mb-2" style="gap:1em"><div>通知日期</div><div ld="notify-date"></div><div class="flex-grow-1"></div><div>資格審查結果</div><div class="btn-group" style="width:14em"><div class="btn btn-outline-secondary" ld="result" data-name="accept">符合</div><div class="btn btn-outline-secondary" ld="result" data-name="reject">不符合</div><div class="btn btn-outline-secondary" ld="result" data-name="amend">需補正</div></div></div><div class="d-flex align-items-center mb-2" style="gap:1em"><div>補正日期</div><div ld="amend-date"></div><div class="flex-grow-1"></div><div>補正結果</div><div class="btn-group" style="width:14em"><div class="btn btn-outline-secondary" ld="amend" data-name="accept">完成補正</div><div class="btn btn-outline-secondary" ld="amend" data-name="reject">未完成補正</div></div></div><div class="my-4"><hr></div></div></div></div></div></div></div><style type="text/css">:scope{width:100%;height:100%}.prj{border-top:1px solid #eee;border-bottom:1px solid #eee;margin-top:-1px}.content .prj.active{position:relative;z-index:10;border-top:1px solid #0ff;border-bottom:1px solid #0ff;background:#eff;box-shadow:0 0 5px rgba(0,255,255,0.3)}</style><script type="@plotdb/block">var print;print=function(t,n){var r;r="";return Promise.resolve().then(function(){r+='<!DOCTYPE html>\n<html><head><meta charset="utf-8">\n<base href="'+window.location.protocol+"//"+window.location.host+'"/>\n</head><body style="display:none">';r+=t.outerHTML;return Promise.all(ld$.find("link").filter(function(t){return t.getAttribute("rel")==="stylesheet"&&t.hasAttribute("href")}).map(function(t){return ld$.fetch(t.getAttribute("href"),{method:"GET"},{type:"text"}).then(function(t){return'<style type="text/css">'+t+"</style>"})["catch"](function(){})}))}).then(function(t){var e;r+=t.join("");ld$.find("style").map(function(t){return r+=t.outerHTML});r+='<script type="text/javascript">\ndocument.body.style.display = "block";\n<\/script>\n</body></html>';e=URL.createObjectURL(new Blob([r],{type:"text/html"}));n.src=e;return debounce(1e3).then(function(){console.log("printing .... ");return n.contentWindow.print()})})};module.exports={pkg:{name:"@grantdash/qualification",dependencies:[{name:"ldloader"}]},init:function(t){var g,m,p,e,v=this;g=t.ctx,m=t.manager,p=t.data,e=t.pubsub;return e.on("init",function(t){var e,n,r,i,o,a,c,u,d,f,s,l;t==null&&(t={});e=t.customView,n=t.items;r=t.config||{};i=g.ldloader;o=new i({className:"ldld full z-fixed"});a={amend:"需補正",accept:"符合",reject:"不符合",fixed:"已補正"};c=function(t){var e;e=document.createElement("div");t=e.textContent=t;t=t.replace(/(https:\/\/\S+)/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>');return t};u=function(t){var e,n,r,i,a;e=t.key?(n=(r=v.formData)[i=t.key]||(r[i]={})).info||(n.info={}):t;a=t.key?((n=(r=v.formData)[i=t.key]||(r[i]={})).info||(n.info={})).result:t;a=e.result;if(a==="amend"&&e.amend==="accept"){a="fixed"}return a};d=function(){var t;if(!v.formCtx){return}((t=v.formCtx.data.info).reviewer||(t.reviewer={}))[v.user.key]=v.user;v.update();return v.view.render("form")};v.ldcv={};v.activeProject=null;v.showProjectDetail=false;v.formCtx={data:{info:{},form:{}},prj:{}};v.formData={};f={ctx:v.formCtx,init:{"amend-date":function(t){var e,n,r;e=t.node,n=t.local,r=t.ctx;return m.from("@makeform/date",{root:e,data:{config:{display:"inline"}}}).then(function(t){n.itf=t["interface"];n.itf.value(r.data.info["amend-date"]);return t["interface"].on("change",function(t){if(r.data.info["amend-date"]===t){return}r.data.info["amend-date"]=t;return d()})})},"notify-date":function(t){var e,n,r;e=t.node,n=t.local,r=t.ctx;return m.from("@makeform/date",{root:e,data:{config:{display:"inline"}}}).then(function(t){n.itf=t["interface"];n.itf.value(r.data.info["notify-date"]);return t["interface"].on("change",function(t){if(r.data.info["notify-date"]===t){return}r.data.info["notify-date"]=t;return d()})})}},action:{click:{amend:function(t){var e,n,r,i;e=t.views,n=t.node,r=t.ctx;if(r.data.info.result!=="amend"){return}i=n.getAttribute("data-name");r.data.info.amend=i;e[0].render("amend");e[1].render();return d()},result:function(t){var e,n,r,i;e=t.views,n=t.node,r=t.ctx;i=n.getAttribute("data-name");r.data.info.result=i;if(i!=="amend"){r.data.info.amend=null}e[0].render(["result","amend"]);e[1].render();return d()},save:function(t){var e,n,r,i,a;e=t.ctx;n=p.brd;r=(i=u(e.data.info.result))==="accept"||i==="fixed";a={prjs:[{key:e.prj.key,badge:r}],badge:"criteria"};o.on();return debounce(1e3).then(function(){if(v.publish){return v.publish({brd:n,json:a})}else{return ld$.fetch("/dash/api/brd/"+n+"/system/badge",{method:"POST"},{json:a})}})["finally"](function(){return o.off()}).then(function(){return v.ldcv["published"].get()}).then(function(){return v.view.render("publish")})},"set-chief":function(t){var e;e=t.ctx;e.data.info.chief=v.user;return d()}}},text:import$({name:function(t){var e;e=t.ctx;return e.prj.name},chief:function(t){var e,n;e=t.ctx;return n=(e.data.info.chief||{}).displayname||"n/a"}},e.text),handler:{"@":function(t){var e,n;e=t.node,n=t.ctx;return e.classList.toggle("d-none",!(n.prj.key!=null))},"amend-date":function(t){var e,n;e=t.local,n=t.ctx;if(e.itf){return e.itf.value(n.data.info["amend-date"]||"")}},"notify-date":function(t){var e,n;e=t.local,n=t.ctx;if(e.itf){return e.itf.value(n.data.info["notify-date"]||"")}},amend:function(t){var e,n,r,i;e=t.node,n=t.ctx;r=n.data.info.result!=="amend";e.classList.toggle("disabled",r);if(r){return}i=e.getAttribute("data-name");return e.classList.toggle("active",n.data.info.amend===i)},result:function(t){var e,n,r;e=t.node,n=t.ctx;r=e.getAttribute("data-name");return e.classList.toggle("active",n.data.info.result===r)},"use-required":function(t){var e;e=t.node;return e.classList.toggle("d-none",r.useRequired!=null&&!r.useRequired)},item:{list:function(){return n},key:function(t){return t.name},view:{action:{click:{check:function(t){var e,n,r,i,a,o,c,u;e=t.views,n=t.node,r=t.ctx,i=t.ctxs;a=n.getAttribute("data-name");o=((c=i[0].data.form)[u=r.name]||(c[u]={})).value===a?null:a;((c=i[0].data.form)[u=r.name]||(c[u]={})).value=o;e[0].render();return d()}},change:{note:function(t){var e,n,r,i,a;e=t.node,n=t.ctx,r=t.ctxs;((i=r[0].data.form)[a=n.name]||(i[a]={})).note=e.value;return d()}},input:{note:function(t){var e,n,r,i,a;e=t.node,n=t.ctx,r=t.ctxs;((i=r[0].data.form)[a=n.name]||(i[a]={})).note=e.value;e.style.height="";e.style.height=e.scrollHeight+"px";return d()}}},text:{index:function(t){var e;e=t.ctx;return e.idx},name:function(t){var e;e=t.ctx;return e.name}},handler:{description:function(t){var e,n;e=t.ctx,n=t.node;return n.innerHTML=c(e.description||"")},note:function(t){var e,n,r,i,a,o;e=t.node,n=t.ctx,r=t.ctxs;i=((a=r[0].data.form)[o=n.name]||(a[o]={})).note||"";e.value=i;e.style.height="";return e.style.height=e.scrollHeight+"px"},"use-required":function(t){var e;e=t.node;return e.classList.toggle("d-none",r.useRequired!=null&&!r.useRequired)},required:function(t){var e,n;e=t.node,n=t.ctx;e.classList.toggle("text-light",!n.required);e.classList.toggle("text-danger",n.required===true);e.classList.toggle("text-warning",n.required==="depends");ld$.find(e,"i",0).classList.toggle("i-check",n.required!=="depends");return ld$.find(e,"i",0).classList.toggle("i-question-circle",n.required==="depends")},check:function(t){var e,n,r,i,a,o,c,u,d;e=t.node,n=t.ctx,r=t.ctxs;i=e.getAttribute("data-name");a=ld$.find(e,".btn",0);o=e.getAttribute("data-name")===((c=r[0].data.form)[u=n.name]||(c[u]={})).value;d=i==="yes"?"btn-success":"btn-danger";a.classList.toggle(d,o);return a.classList.toggle("text-light",!o)}}}}}};v.toggle=function(t,e){var n,r;e==null&&(e=true);this.activeProject=this.formCtx.prj=t;this.formCtx.data=(n=this.formData)[r=t.key]||(n[r]={});(n=this.formCtx.data).info||(n.info={});(n=this.formCtx.data).form||(n.form={});this.showProjectDetail=e;return this.view.render(["iframe","reader","form"])};s={text:import$({name:function(t){var e;e=t.ctx;return e.prj.name}},e.text),handler:{"@":function(t){var e,n;e=t.node,n=t.ctx;return e.classList.toggle("active",v.activeProject&&v.activeProject.slug===n.prj.slug)},result:function(t){var e,n,r;e=t.node,n=t.ctx;r=u(n.prj);e.classList.toggle("bg-danger",r==="reject");e.classList.toggle("bg-warning",r==="amend");e.classList.toggle("bg-success",r==="accept");e.classList.toggle("bg-info",r==="fixed");e.classList.toggle("text-white",!!r);return e.innerText=a[r]||"未填"}}};v.printView=new ldview({root:ld$.find("[ld-scope='print']",0),initRender:false,action:{click:{print:function(){var t,e;t=v.printView.get("root");e=v.printView.get("iframe");return print(t,e)}}},handler:{project:{list:function(){var t,e,n,r,i=[];for(t=0,n=(e=v.prjs).length;t<n;++t){r=e[t];i.push({prj:r})}return i},key:function(t){return t.prj.key},view:import$({},s)},"project-detail":{list:function(){return v.prjs.map(function(t){var e,n,r;e=import$({info:{},form:{}},(n=v.formData)[r=t.key]||(n[r]={}));return{data:e,prj:t}})},key:function(t){return t.prj.key},view:{text:import$({"amend-date":function(t){var e;e=t.ctx;return e.data.info["amend-date"]||"n/a"},"notify-date":function(t){var e;e=t.ctx;return e.data.info["notify-date"]||"n/a"},result:function(t){var e;e=t.ctx;return{accept:"符合",reject:"不符合",amend:"需補正"}[e.data.info.result]||"n/a"},amend:function(t){var e;e=t.ctx;return{accept:"完成補正",reject:"未完成補正"}[e.data.info.amend]||"n/a"},name:function(t){var e;e=t.ctx;return e.prj.name},chief:function(t){var e,n;e=t.ctx;return n=(e.data.info.chief||{}).displayname||"n/a"}},e.text),handler:{item:{list:function(){return n},key:function(t){return t.name},view:{text:{index:function(t){var e;e=t.ctx;return e.idx},name:function(t){var e;e=t.ctx;return e.name}},handler:{description:function(t){var e,n;e=t.ctx,n=t.node;return n.innerHTML=c(e.description||"")},note:function(t){var e,n,r,i,a,o;e=t.node,n=t.ctx,r=t.ctxs;i=((a=r[0].data.form)[o=n.name]||(a[o]={})).note||"";return e.innerText=i||" "},required:function(t){var e,n;e=t.node,n=t.ctx;e.classList.toggle("text-light",!n.required);e.classList.toggle("text-danger",n.required===true);e.classList.toggle("text-warning",n.required==="depends");ld$.find(e,"i",0).classList.toggle("i-check",n.required!=="depends");return ld$.find(e,"i",0).classList.toggle("i-question-circle",n.required==="depends")},check:function(t){var e,n,r,i,a,o,c,u,d;e=t.node,n=t.ctx,r=t.ctxs;i=e.getAttribute("data-name");a=ld$.find(e,".btn",0);o=e.getAttribute("data-name")===((c=r[0].data.form)[u=n.name]||(c[u]={})).value;d=i==="yes"?"btn-success":"btn-danger";a.classList.toggle(d,o);return a.classList.toggle("text-light",!o)}}}}}}}}});return v.view=new ldview({initRender:false,root:document.body,init:{ldcv:function(t){var e;e=t.node;return v.ldcv[e.getAttribute("data-name")]=new ldcover({root:e,resident:true})}},action:{click:{print:function(){var t;t=v.ldcv["print"].get();v.printView.render();return t.then(function(){return console.log("done")})},publish:function(){var t,n,r,e,i;o.on();v.prjs.map(function(t){var e;return((e=t.system||(t.system={})).badge||(e.badge={})).criteria=(e=u(t))==="accept"||e==="fixed"});t=function(){var t,e=[];for(n in t=this.formData){r=t[n];e.push([n,r])}return e}.call(v).map(function(t){var e,n,r;e=t[0],n=t[1];return{key:+e,badge:(r=u(n.info||(n.info={})))==="accept"||r==="fixed"}});e=p.brd;i={prjs:t,badge:"criteria"};return debounce(1e3).then(function(){return v.publish(i)})["finally"](function(){return o.off()}).then(function(){return v.ldcv["published"].get()}).then(function(){return v.view.render("publish")})},"reader-close":function(t){var e;e=t.views;v.showProjectDetail=false;return e[0].render(["reader","iframe"])}}},text:{brd:function(){return v.brdinfo.name}},handler:{publish:function(t){var e,n;e=t.node;n=v.prjs.filter(function(t){var e;return((e=t.system||(t.system={})).badge||(e.badge={})).criteria!==((e=u(t))==="accept"||e==="fixed")}).length;return e.classList.toggle("ld-rubber-h",!!n)},"progress-bar":function(t){var e,n,r;e=t.node;n=e.getAttribute("data-name");r=v.prjs.filter(function(t){return a[u(t)]===n}).length;return e.style.width=100*r/v.prjs.length+"%"},"progress-percent":function(t){var e,n;e=t.node;n=v.prjs.filter(function(t){return!!a[u(t)]}).length;return e.innerText=Math.floor(100*n/v.prjs.length)},count:function(t){var e,n,r;e=t.node;n=e.getAttribute("data-name");r=v.prjs.filter(function(t){return!!a[u(t)]}).length;if(n!=="done"){r=v.prjs.length-r}return e.innerText=r},form:f,reader:function(t){var e;e=t.node;return e.classList.toggle("d-none",!(v.activeProject&&v.showProjectDetail))},iframe:function(t){var e,n,r;e=t.node;if(!(v.activeProject&&v.showProjectDetail)){return}n=e.getAttribute("src");r="/dash/prj/"+v.activeProject.slug;if(n===r){return}return e.setAttribute("src",r)},project:{list:function(){var t,e,n,r,i=[];for(t=0,n=(e=v.prjs).length;t<n;++t){r=e[t];i.push({prj:r})}return i},key:function(t){return t.key},view:(l=import$({},s),l.action={click:{edit:function(t){var e,n,r;e=t.node,n=t.views,r=t.ctx;v.toggle(r.prj,false);return n[1].render("project")},name:function(t){var e,n,r;e=t.node,n=t.views,r=t.ctx;v.toggle(r.prj,true);return n[1].render("project")}}},l)}}})})},render:function(){return this.view.render()},interface:function(){var e=this;return{load:function(){},adapt:function(t){e.brdinfo=t.info.brd;e.prjs=t.info.prjs;e.user=t.info.user;e.formData=t.data.prj;e.update=function(){return t.update()};t.on("change",function(){return e.render()});e.publish=t.publish;return e.view.render()}}}};function import$(t,e){var n={}.hasOwnProperty;for(var r in e)if(n.call(e,r))t[r]=e[r];return t}</script></div>