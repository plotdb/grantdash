<div><div class="ldcv scroll" ld="ldcv" data-name="print"><div class="base" ld-scope="print"><div class="inner"><div class="p-4"><div class="w-100"><div class="mb-4 d-flex g-4"><div class="btn btn-primary" ld="print" data-side="single">單面列印</div><div class="btn btn-primary" ld="print" data-side="double">雙面列印</div></div><iframe ld="iframe" style="width:100%;height:10px;display:inline;opacity:0;pointer-events:none"></iframe><div ld="root"><h3>審查結果總表</h3><div class="border mb-4"><div class="p-2 d-flex align-items-center border-bottom bg-light"><div class="mr-2 text-center px-2 clickable" ld="sort-custom" data-name="idx" style="width:6em">編號</div><div class="flex-grow-1 clickable mr-2" ld="sort" data-name="name">提案名稱</div><div class="mr-2 text-right px-2 clickable d-none" ld="show-budget sort" data-name="budget" style="width:50px">預算</div><div class="mr-2 d-flex text-muted text-center align-items-center"><div class="mx-2 clickable" ld="option sort" data-name="primary" data-value="0" style="width:3em"><span>資格審查結果</span></div></div></div><div class="prj px-2 py-2 d-flex align-items-center" ld-each="project"><div class="text-nowrap text-center text-sm mr-2" style="width:6em"><span ld="idx"></span></div><div class="flex-grow-1 text-truncate mr-2" style="width:15em"><div class="text-underline text-truncate clickable" ld="name"></div><div class="text-sm text-muted" ld="ownername"></div></div><div class="mr-2 text-right text-nowrap d-none" ld="show-budget" style="width:75px"><div><span class="text-sm text-muted mr-1">總數</span><b class="text-sm text-nowrap" ld="budget"></b></div><div><span class="text-sm text-muted mr-1">補助</span><b class="text-sm text-nowrap" ld="subsidy"></b></div></div><div class="d-flex align-items-center text-muted justify-content-end clickable" ld="edit" style="width:6em;height:2em"><div class="px-2 py-1 rounded" style="margin-top:5px" ld="result">未填</div></div></div></div><div style="page-break-after:always"></div><div class="my-4">　</div><div style="page-break-after:always"></div><div class="mb-4" ld-each="project-detail"><div class="mb-2 d-flex justify-content-between align-items-center"><div>案件編號： <span ld="idx"></span></div><div class="d-flex align-items-center"><span>審查人員： <span ld="chief"></span></span></div></div><plug name="basicinfo-print"></plug><table class="table table-bordered"><tr class="bg-light font-weight-bold"><th class="text-nowrap">項次</th><th class="text-nowrap">項目</th><th class="text-nowrap">必要</th><th class="text-nowrap">通過</th><th class="text-nowrap">不符</th><th class="text-nowrap">備註</th></tr><tr ld-each="item"><td class="align-middle text-center" ld="index"></td><td class="align-middle"><div ld="name"></div></td><td class="text-center align-middle" ld="required"><i class="i-check"></i></td><td class="text-center align-middle clickable" ld="check" data-name="yes"><div class="btn" style="width:3em"><i class="i-check"></i></div></td><td class="text-center align-middle clickable" ld="check" data-name="no"><div class="btn" style="width:3em"><i class="i-check"></i></div></td><td class="p-0" style="width:10em"><div class="p-2" ld="note" style="min-height:3em;white-space:pre-wrap;word-break:break-all"></div></td></tr></table><div class="d-flex align-items-center mb-2" style="gap:1em"><div>通知日期</div><div ld="notify-date"></div><div class="flex-grow-1"></div><div>資格審查結果</div><div ld="result"></div></div><div class="d-flex align-items-center mb-2" style="gap:1em"><div>補正日期</div><div ld="amend-date"></div><div class="flex-grow-1"></div><div>補正結果</div><div ld="amend"></div></div><div class="my-4 py-4"><hr></div><div style="page-break-after:always"></div><div ld="double-side"><div class="my-4">　</div><div style="page-break-after:always"></div></div></div></div></div></div></div></div></div><div class="ldcv" ld="ldcv" data-name="published"><div class="base"><div class="inner"><div class="p-4"><div class="m-4"><h3 class="text-center">審查結果已發布</h3><br><div class="btn btn-lg btn-block btn-outline-primary" data-ldcv-set="">關閉</div></div></div></div></div></div><div class="h-100 w-100 d-flex flex-column content"><div class="flex-grow-1 d-flex w-100" style="overflow:hidden"><div class="d-flex flex-column position-relative" style="flex:1 1 40%"><div class="p-2 d-flex align-items-center g-2"><span ld="brd"></span><span>/</span>資格審查表</div><div class="w-100 h-100 position-absolute z-fixed border shadow rounded d-none bg-white" ld="reader" style="top:0;left:0"><div class="btn btn-lg btn-text position-absolute" ld="reader-close" style="top:.5em;right:.5em"><i class="i-close"></i></div><iframe class="w-100 h-100 border-0" ld="iframe"></iframe></div><div class="flex-grow-1 bg-white border-top border-bottom" style="overflow:scroll"><div class="w-100"><div class="p-2 d-flex align-items-center border-bottom border-secondary bg-light sticky shadow-sm z-float" style="top:0"><div class="mr-2 text-center px-2 clickable" ld="sort-custom" data-name="idx" style="width:6em">編號</div><div class="flex-grow-1 clickable mr-2" ld="sort" data-name="name">提案名稱</div><div class="mr-2 text-right px-2 clickable d-none" ld="show-budget sort" data-name="budget" style="width:50px">預算</div><div class="mr-2 d-flex text-muted text-center align-items-center"><div class="mx-2 clickable" ld="option sort" data-name="primary" data-value="0" style="width:3em"><span>資格審查結果</span></div></div></div><div class="prj px-2 py-2 d-flex align-items-center" ld-each="project"><div class="text-nowrap text-center text-sm mr-2" style="width:6em"><span ld="idx"></span></div><div class="flex-grow-1 text-truncate mr-2" style="width:15em"><div class="text-underline text-truncate clickable" ld="name"></div><div class="text-sm text-muted" ld="ownername"></div></div><div class="mr-2 text-right text-nowrap d-none" ld="show-budget" style="width:75px"><div><span class="text-sm text-muted mr-1">總數</span><b class="text-sm text-nowrap" ld="budget"></b></div><div><span class="text-sm text-muted mr-1">補助</span><b class="text-sm text-nowrap" ld="subsidy"></b></div></div><div class="mr-4 d-flex align-items-center text-muted justify-content-end clickable" ld="edit" style="width:6em;height:2em"><div class="mr-2 px-2 py-1 rounded" style="margin-top:5px" ld="result">未填</div><i class="i-pen"></i></div></div></div></div><div class="px-4 py-2 w-100"><div class="d-flex align-items-center"><div class="mr-4 text-sm"><div class="d-flex align-items-center my-1" style="line-height:1rem"><div class="flex-grow-1" style="flex-basis:0"><div class="d-flex align-items-center"><div class="bg-success d-inline-block mr-1 rounded" style="width:1em;height:1em"></div><span class="mr-2">符合</span></div></div><div class="flex-grow-1" style="flex-basis:0"><div class="d-flex align-items-center"><div class="bg-info d-inline-block mr-1 rounded" style="width:1em;height:1em"></div><span class="mr-2">已補正</span></div></div></div><div class="d-flex align-items-center my-1" style="line-height:1rem"><div class="flex-grow-1" style="flex-basis:0"><div class="d-flex align-items-center"><div class="bg-warning d-inline-block mr-1 rounded" style="width:1em;height:1em"></div><span class="mr-2">需補正</span></div></div><div class="flex-grow-1" style="flex-basis:0"><div class="d-flex align-items-center"><div class="bg-danger d-inline-block mr-1 rounded" style="width:1em;height:1em"></div><span class="mr-2">不符合</span></div></div></div></div><div class="mr-2 flex-grow-1"><div class="text-muted text-sm d-flex"><div class="mr-4 flex-grow-1">完成度 / <span class="text-danger" ld="progress progress-percent">0</span>%</div><div class="text-dark mr-4">已審: <span ld="count" data-name="done"></span></div><div class="text-dark">未審: <span ld="count" data-name="todo"></span></div></div><div class="progress my-1" style="width:100%"><div class="progress-bar bg-success progress-bar-striped progress-bar-animated" ld="progress progress-bar" data-name="符合"></div><div class="progress-bar bg-info progress-bar-striped progress-bar-animated" ld="progress progress-bar" data-name="已補正"></div><div class="progress-bar bg-warning progress-bar-striped progress-bar-animated" ld="progress progress-bar" data-name="需補正"></div><div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" ld="progress progress-bar" data-name="不符合"></div></div></div><div class="ml-4"><div class="btn btn-primary ld mr-2" ld="publish">發布</div><div class="btn btn-primary ld" ld="print">列印</div></div></div></div></div><div style="flex:1 1 60%"><div class="card border shadow w-100 h-100" style="overflow:hidden;border-radius:0"><div class="card-body p-0 position-relative"><div class="w-100 h-100 position-absolute d-flex align-items-center justify-content-center"><div class="text-lg text-muted text-center">點擊提案以<br>開啟審查表單</div></div><div class="w-100 h-100 p-4 position-relative z-float bg-white" ld-scope ld="form" style="overflow-y:scroll"><div class="mb-2 d-flex justify-content-between align-items-center"><div>案件編號： <span ld="idx"></span></div><div class="d-flex align-items-center"><span>審查人員： <span ld="chief"></span></span><div class="btn btn-sm btn-outline-secondary ml-2" ld="set-chief">認領</div></div></div><plug name="basicinfo"></plug><table class="table table-bordered"><tr class="bg-light font-weight-bold"><th class="text-nowrap">項次</th><th class="text-nowrap">項目</th><th class="text-nowrap" ld="use-required">必要</th><th class="text-nowrap">通過</th><th class="text-nowrap">不符</th><th class="text-nowrap">備註</th></tr><tr ld-each="item"><td class="align-middle text-center" ld="index"></td><td class="align-middle"><div ld="name"></div><div class="text-sm text-danger" ld="description" style="white-space:pre-wrap"></div></td><td class="text-center align-middle" ld="use-required required"><i class="i-check"></i></td><td class="text-center align-middle clickable" ld="check" data-name="yes"><div class="btn" style="width:3em"><i class="i-check"></i></div></td><td class="text-center align-middle clickable" ld="check" data-name="no"><div class="btn" style="width:3em"><i class="i-check"></i></div></td><td class="p-0 position-relative" style="width:10em"><textarea class="form-control border-0 w-100" ld="note" style="min-height:3em"></textarea></td></tr></table><div class="d-flex align-items-center mb-2" style="gap:1em"><div>通知日期</div><div ld="notify-date"></div><div class="flex-grow-1"></div><div>資格審查結果</div><div class="btn-group" style="width:14em"><div class="btn btn-outline-secondary" ld="result" data-name="accept">符合</div><div class="btn btn-outline-secondary" ld="result" data-name="reject">不符合</div><div class="btn btn-outline-secondary" ld="result" data-name="amend">需補正</div></div></div><div class="d-flex align-items-center mb-2" style="gap:1em"><div>補正日期</div><div ld="amend-date"></div><div class="flex-grow-1"></div><div>補正結果</div><div class="btn-group" style="width:14em"><div class="btn btn-outline-secondary" ld="amend" data-name="accept">完成補正</div><div class="btn btn-outline-secondary" ld="amend" data-name="reject">未完成補正</div></div></div><div class="my-4"><hr></div></div></div></div></div></div></div><style type="text/css">:scope{width:100%;height:100%}.prj{border-top:1px solid #eee;border-bottom:1px solid #eee;margin-top:-1px}.content .prj.active{position:relative;z-index:10;border-top:1px solid #0ff;border-bottom:1px solid #0ff;background:#eff;box-shadow:0 0 5px rgba(0,255,255,0.3)}</style><script type="@plotdb/block">var print;print=function(e,n){var r;r="";return Promise.resolve().then(function(){r+='<!DOCTYPE html>\n<html><head><meta charset="utf-8">\n<base href="'+window.location.protocol+"//"+window.location.host+'"/>\n</head><body style="display:none">';r+=e.outerHTML;return Promise.all(ld$.find("link").filter(function(e){return e.getAttribute("rel")==="stylesheet"&&e.hasAttribute("href")}).map(function(e){return ld$.fetch(e.getAttribute("href"),{method:"GET"},{type:"text"}).then(function(e){return'<style type="text/css">'+e+"</style>"})["catch"](function(){})}))}).then(function(e){var t;r+=e.join("");ld$.find("style").map(function(e){return r+=e.outerHTML});r+='<script type="text/javascript">\ndocument.body.style.display = "block";\n<\/script>\n</body></html>';t=URL.createObjectURL(new Blob([r],{type:"text/html"}));n.src=t;return debounce(1e3).then(function(){console.log("printing .... ");return n.contentWindow.print()})})};module.exports={pkg:{name:"@grantdash/qualification",dependencies:[{name:"ldloader"}]},init:function(e){var g,m,p,t,v=this;g=e.ctx,m=e.manager,p=e.data,t=e.pubsub;return t.on("init",function(e){var t,n,r,i,o,a,c,u,d,s,f,l;e==null&&(e={});t=e.customView,n=e.items;r=e.config||{};i=g.ldloader;o=new i({className:"ldld full z-fixed"});a={amend:"需補正",accept:"符合",reject:"不符合",fixed:"已補正"};c=function(e){var t;t=document.createElement("div");e=t.textContent=e;e=e.replace(/(https:\/\/\S+)/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>');return e};u=function(e){var t,n,r,i,a;t=e.key?(n=(r=v.formData)[i=e.key]||(r[i]={})).info||(n.info={}):e;a=e.key?((n=(r=v.formData)[i=e.key]||(r[i]={})).info||(n.info={})).result:e;a=t.result;if(a==="amend"&&t.amend==="accept"){a="fixed"}return a};d=function(){var e;if(!v.formCtx){return}((e=v.formCtx.data.info).reviewer||(e.reviewer={}))[v.user.key]=v.user;v.update();return v.view.render("form")};v.ldcv={};v.activeProject=null;v.showProjectDetail=false;v.formCtx={data:{info:{},form:{}},prj:{}};v.formData={};v.local={cfg:{}};s={ctx:v.formCtx,init:{"amend-date":function(e){var t,n,r;t=e.node,n=e.local,r=e.ctx;return m.from("@makeform/date",{root:t,data:{config:{display:"inline"}}}).then(function(e){n.itf=e["interface"];n.itf.value(r.data.info["amend-date"]);return e["interface"].on("change",function(e){if(r.data.info["amend-date"]===e){return}r.data.info["amend-date"]=e;return d()})})},"notify-date":function(e){var t,n,r;t=e.node,n=e.local,r=e.ctx;return m.from("@makeform/date",{root:t,data:{config:{display:"inline"}}}).then(function(e){n.itf=e["interface"];n.itf.value(r.data.info["notify-date"]);return e["interface"].on("change",function(e){if(r.data.info["notify-date"]===e){return}r.data.info["notify-date"]=e;return d()})})}},action:{click:{amend:function(e){var t,n,r,i;t=e.views,n=e.node,r=e.ctx;if(r.data.info.result!=="amend"){return}i=n.getAttribute("data-name");r.data.info.amend=i;t[0].render("amend");t[1].render();return d()},result:function(e){var t,n,r,i;t=e.views,n=e.node,r=e.ctx;i=n.getAttribute("data-name");r.data.info.result=i;if(i!=="amend"){r.data.info.amend=null}t[0].render(["result","amend"]);t[1].render();return d()},save:function(e){var t,n,r,i,a;t=e.ctx;n=p.brd;r=(i=u(t.data.info.result))==="accept"||i==="fixed";a={prjs:[{key:t.prj.key,badge:r}],badge:"criteria"};o.on();return debounce(1e3).then(function(){if(v.publish){return v.publish({brd:n,json:a})}else{return ld$.fetch("/dash/api/brd/"+n+"/system/badge",{method:"POST"},{json:a})}})["finally"](function(){return o.off()}).then(function(){return v.ldcv["published"].get()}).then(function(){return v.view.render("publish")})},"set-chief":function(e){var t;t=e.ctx;t.data.info.chief=v.user;return d()}}},text:import$({name:function(e){var t;t=e.ctx;return t.prj.name},chief:function(e){var t,n;t=e.ctx;return n=(t.data.info.chief||{}).displayname||"n/a"}},t.text),handler:{"@":function(e){var t,n;t=e.node,n=e.ctx;return t.classList.toggle("d-none",!(n.prj.key!=null))},"amend-date":function(e){var t,n;t=e.local,n=e.ctx;if(t.itf){return t.itf.value(n.data.info["amend-date"]||"")}},"notify-date":function(e){var t,n;t=e.local,n=e.ctx;if(t.itf){return t.itf.value(n.data.info["notify-date"]||"")}},amend:function(e){var t,n,r,i;t=e.node,n=e.ctx;r=n.data.info.result!=="amend";t.classList.toggle("disabled",r);if(r){return}i=t.getAttribute("data-name");return t.classList.toggle("active",n.data.info.amend===i)},result:function(e){var t,n,r;t=e.node,n=e.ctx;r=t.getAttribute("data-name");return t.classList.toggle("active",n.data.info.result===r)},"use-required":function(e){var t;t=e.node;return t.classList.toggle("d-none",r.useRequired!=null&&!r.useRequired)},item:{list:function(){return n},key:function(e){return e.name},view:{action:{click:{check:function(e){var t,n,r,i,a,o,c,u;t=e.views,n=e.node,r=e.ctx,i=e.ctxs;a=n.getAttribute("data-name");o=((c=i[0].data.form)[u=r.name]||(c[u]={})).value===a?null:a;((c=i[0].data.form)[u=r.name]||(c[u]={})).value=o;t[0].render();return d()}},change:{note:function(e){var t,n,r,i,a;t=e.node,n=e.ctx,r=e.ctxs;((i=r[0].data.form)[a=n.name]||(i[a]={})).note=t.value;return d()}},input:{note:function(e){var t,n,r,i,a;t=e.node,n=e.ctx,r=e.ctxs;((i=r[0].data.form)[a=n.name]||(i[a]={})).note=t.value;t.style.height="";t.style.height=t.scrollHeight+"px";return d()}}},text:{index:function(e){var t;t=e.ctx;return t.idx},name:function(e){var t;t=e.ctx;return t.name}},handler:{description:function(e){var t,n;t=e.ctx,n=e.node;return n.innerHTML=c(t.description||"")},note:function(e){var t,n,r,i,a,o;t=e.node,n=e.ctx,r=e.ctxs;i=((a=r[0].data.form)[o=n.name]||(a[o]={})).note||"";t.value=i;t.style.height="";return t.style.height=t.scrollHeight+"px"},"use-required":function(e){var t;t=e.node;return t.classList.toggle("d-none",r.useRequired!=null&&!r.useRequired)},required:function(e){var t,n;t=e.node,n=e.ctx;t.classList.toggle("text-light",!n.required);t.classList.toggle("text-danger",n.required===true);t.classList.toggle("text-warning",n.required==="depends");ld$.find(t,"i",0).classList.toggle("i-check",n.required!=="depends");return ld$.find(t,"i",0).classList.toggle("i-question-circle",n.required==="depends")},check:function(e){var t,n,r,i,a,o,c,u,d;t=e.node,n=e.ctx,r=e.ctxs;i=t.getAttribute("data-name");a=ld$.find(t,".btn",0);o=t.getAttribute("data-name")===((c=r[0].data.form)[u=n.name]||(c[u]={})).value;d=i==="yes"?"btn-success":"btn-danger";a.classList.toggle(d,o);return a.classList.toggle("text-light",!o)}}}}}};v.toggle=function(e,t){var n,r;t==null&&(t=true);this.activeProject=this.formCtx.prj=e;this.formCtx.data=(n=this.formData)[r=e.key]||(n[r]={});(n=this.formCtx.data).info||(n.info={});(n=this.formCtx.data).form||(n.form={});this.showProjectDetail=t;return this.view.render(["iframe","reader","form"])};f={text:import$({name:function(e){var t;t=e.ctx;return t.prj.name}},t.text),handler:{"@":function(e){var t,n;t=e.node,n=e.ctx;return t.classList.toggle("active",v.activeProject&&v.activeProject.slug===n.prj.slug)},result:function(e){var t,n,r;t=e.node,n=e.ctx;r=u(n.prj);t.classList.toggle("bg-danger",r==="reject");t.classList.toggle("bg-warning",r==="amend");t.classList.toggle("bg-success",r==="accept");t.classList.toggle("bg-info",r==="fixed");t.classList.toggle("text-white",!!r);return t.innerText=a[r]||"未填"}}};v.printView=new ldview({root:ld$.find("[ld-scope='print']",0),initRender:false,action:{click:{print:function(e){var t,n,r;t=e.node;v.local.cfg.side=t.getAttribute("data-side")||"single";v.printView.render("project-detail");n=v.printView.get("root");r=v.printView.get("iframe");return print(n,r)}}},handler:{project:{list:function(){var e,t,n,r,i=[];for(e=0,n=(t=v.prjs).length;e<n;++e){r=t[e];i.push({prj:r})}return i},key:function(e){return e.prj.key},view:import$({},f)},"project-detail":{list:function(){return v.prjs.map(function(e){var t,n,r;t=import$({info:{},form:{}},(n=v.formData)[r=e.key]||(n[r]={}));return{data:t,prj:e}})},key:function(e){return e.prj.key},view:{text:import$({"amend-date":function(e){var t;t=e.ctx;return t.data.info["amend-date"]||"n/a"},"notify-date":function(e){var t;t=e.ctx;return t.data.info["notify-date"]||"n/a"},result:function(e){var t;t=e.ctx;return{accept:"符合",reject:"不符合",amend:"需補正"}[t.data.info.result]||"n/a"},amend:function(e){var t;t=e.ctx;return{accept:"完成補正",reject:"未完成補正"}[t.data.info.amend]||"n/a"},name:function(e){var t;t=e.ctx;return t.prj.name},chief:function(e){var t,n;t=e.ctx;return n=(t.data.info.chief||{}).displayname||"n/a"}},t.text),handler:{"double-side":function(e){var t;t=e.node;return t.classList.toggle("d-none",v.local.cfg.side!=="double")},item:{list:function(){return n},key:function(e){return e.name},view:{text:{index:function(e){var t;t=e.ctx;return t.idx},name:function(e){var t;t=e.ctx;return t.name}},handler:{description:function(e){var t,n;t=e.ctx,n=e.node;return n.innerHTML=c(t.description||"")},note:function(e){var t,n,r,i,a,o;t=e.node,n=e.ctx,r=e.ctxs;i=((a=r[0].data.form)[o=n.name]||(a[o]={})).note||"";return t.innerText=i||" "},required:function(e){var t,n;t=e.node,n=e.ctx;t.classList.toggle("text-light",!n.required);t.classList.toggle("text-danger",n.required===true);t.classList.toggle("text-warning",n.required==="depends");ld$.find(t,"i",0).classList.toggle("i-check",n.required!=="depends");return ld$.find(t,"i",0).classList.toggle("i-question-circle",n.required==="depends")},check:function(e){var t,n,r,i,a,o,c,u,d;t=e.node,n=e.ctx,r=e.ctxs;i=t.getAttribute("data-name");a=ld$.find(t,".btn",0);o=t.getAttribute("data-name")===((c=r[0].data.form)[u=n.name]||(c[u]={})).value;d=i==="yes"?"btn-success":"btn-danger";a.classList.toggle(d,o);return a.classList.toggle("text-light",!o)}}}}}}}}});return v.view=new ldview({initRender:false,root:document.body,init:{ldcv:function(e){var t;t=e.node;return v.ldcv[t.getAttribute("data-name")]=new ldcover({root:t,resident:true})}},action:{click:{print:function(){var e;e=v.ldcv["print"].get();v.printView.render();return e.then(function(){return console.log("done")})},publish:function(){var e,n,r,t,i;o.on();v.prjs.map(function(e){var t;return((t=e.system||(e.system={})).badge||(t.badge={})).criteria=(t=u(e))==="accept"||t==="fixed"});e=function(){var e,t=[];for(n in e=this.formData){r=e[n];t.push([n,r])}return t}.call(v).map(function(e){var t,n,r;t=e[0],n=e[1];return{key:+t,badge:(r=u(n.info||(n.info={})))==="accept"||r==="fixed"}});t=p.brd;i={prjs:e,badge:"criteria"};return debounce(1e3).then(function(){return v.publish(i)})["finally"](function(){return o.off()}).then(function(){return v.ldcv["published"].get()}).then(function(){return v.view.render("publish")})},"reader-close":function(e){var t;t=e.views;v.showProjectDetail=false;return t[0].render(["reader","iframe"])}}},text:{brd:function(){return v.brdinfo.name}},handler:{publish:function(e){var t,n;t=e.node;n=v.prjs.filter(function(e){var t;return((t=e.system||(e.system={})).badge||(t.badge={})).criteria!==((t=u(e))==="accept"||t==="fixed")}).length;return t.classList.toggle("ld-rubber-h",!!n)},"progress-bar":function(e){var t,n,r;t=e.node;n=t.getAttribute("data-name");r=v.prjs.filter(function(e){return a[u(e)]===n}).length;return t.style.width=100*r/v.prjs.length+"%"},"progress-percent":function(e){var t,n;t=e.node;n=v.prjs.filter(function(e){return!!a[u(e)]}).length;return t.innerText=Math.floor(100*n/v.prjs.length)},count:function(e){var t,n,r;t=e.node;n=t.getAttribute("data-name");r=v.prjs.filter(function(e){return!!a[u(e)]}).length;if(n!=="done"){r=v.prjs.length-r}return t.innerText=r},form:s,reader:function(e){var t;t=e.node;return t.classList.toggle("d-none",!(v.activeProject&&v.showProjectDetail))},iframe:function(e){var t,n,r;t=e.node;if(!(v.activeProject&&v.showProjectDetail)){return}n=t.getAttribute("src");r="/dash/prj/"+v.activeProject.slug;if(n===r){return}return t.setAttribute("src",r)},project:{list:function(){var e,t,n,r,i=[];for(e=0,n=(t=v.prjs).length;e<n;++e){r=t[e];i.push({prj:r})}return i},key:function(e){return e.key},view:(l=import$({},f),l.action={click:{edit:function(e){var t,n,r;t=e.node,n=e.views,r=e.ctx;v.toggle(r.prj,false);return n[1].render("project")},name:function(e){var t,n,r;t=e.node,n=e.views,r=e.ctx;v.toggle(r.prj,true);return n[1].render("project")}}},l)}}})})},render:function(){return this.view.render()},interface:function(){var t=this;return{load:function(){},adapt:function(e){t.brdinfo=e.info.brd;t.prjs=e.info.prjs;t.user=e.info.user;t.formData=e.data.prj;t.update=function(){return e.update()};e.on("change",function(){return t.render()});t.publish=e.publish;return t.view.render()}}}};function import$(e,t){var n={}.hasOwnProperty;for(var r in t)if(n.call(t,r))e[r]=t[r];return e}</script></div>